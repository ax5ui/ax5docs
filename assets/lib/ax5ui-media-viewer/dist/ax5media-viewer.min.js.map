{"version":3,"sources":["ax5media-viewer.js","ax5media-viewer-tmpl.js"],"names":["MEDIAVIEWER","UI","ax5","ui","U","util","addClass","className","ax5mediaViewer","cfg","self","this","ENM","mousedown","info","supportTouch","mousemove","mouseup","getMousePosition","e","mouseObj","originalEvent","changedTouches","clientX","clientY","time","Date","getTime","instanceId","getGuid","config","clickEventName","theme","animateTime","columnKeys","src","poster","html","loading","icon","text","viewer","prevHandle","nextHandle","ratio","media","width","height","list","queue","openTimer","closeTimer","selectedIndex","mousePosition","getFrame","data","jQuery","extend","id","tmpl","get","call","onClick","target","result","elementType","processor","thumbnail","select","getAttribute","prev","length","next","findParentNode","key","getSelectedIndex","i","selecteIndex","selected","alignMediaList","$","find","pos","position","thumbnailWidth","outerWidth","containerWidth","parentLeft","left","parentWidth","newLeft","css","swipeMedia","on","getSwipePosition","__dx","__dy","__time","Math","abs","top","viewerWidth","document","body","bind","nextIndex","off","stopEvent","attr","unbind","removeAttr","init","onStateChanged","attach","options","console","log","getError","setConfig","root","viewer-holder","viewer-loading","list-holder","list-prev-handle","list-table","list-next-handle","align","window","event","$img","setTimeout","_img","mediaThumbnailWidth","right","number","mediaThumbnailHeight","floor","mediaView","image","obj","callback","show","dim","img","Image","onload","fadeOut","h","w","video","onLoad","index","removeClass","Number","setMediaList","concat","main","mediaViewer_instance","push","arguments","isObject","apply","mediaViewer","frame","tmplName","mustache","render"],"mappings":"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","file":"ax5media-viewer.min.js","sourcesContent":["// ax5.ui.mediaViewer\n(function () {\n\n    var UI = ax5.ui;\n    var U = ax5.util;\n    var MEDIAVIEWER;\n\n    UI.addClass({\n        className: \"mediaViewer\"\n    }, (function () {\n        /**\n         * @class ax5mediaViewer\n         * @classdesc\n         * @author tom@axisj.com\n         * @example\n         * ```js\n         * var myViewer = new ax5.ui.mediaViewer({\n         *     theme: \"danger\",\n         *     target: $(\"#media-viewer-target-0\"),\n         *     loading: {\n         *         icon: '<i class=\"fa fa-spinner fa-pulse fa-2x fa-fw margin-bottom\" aria-hidden=\"true\"></i>',\n         *         text: '<div>Now Loading</div>'\n         *     },\n         *     media: {\n         *         width: '11%', height: '11%',\n         *         prevHandle: '<i class=\"fa fa-chevron-left\"></i>',\n         *         nextHandle: '<i class=\"fa fa-chevron-right\"></i>',\n         *         poster: '<i class=\"fa fa-youtube-play\" style=\"font-size: 20px;\"></i>',\n         *         list: [\n         *             {\n         *                 video: {\n         *                     html: '<iframe src=\"https://player.vimeo.com/video/121840700?color=fcfcfc&badge=0\" frameborder=\"0\" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>',\n         *                     poster: ''\n         *                 }\n         *             },\n         *             {\n         *                 video: {\n         *                     html: '<iframe width=\"560\" height=\"315\" src=\"https://www.youtube.com/embed/w9Uh2oP88JI\" frameborder=\"0\" allowfullscreen></iframe>',\n         *                     poster: ''\n         *                 }\n         *             },\n         *             {\n         *                 image: {\n         *                     src: 'http://www.improgrammer.net/wp-content/uploads/2015/11/top-20-node-js-Frameworks-1.jpg',\n         *                     poster: 'http://www.improgrammer.net/wp-content/uploads/2015/11/top-20-node-js-Frameworks-1.jpg'\n         *                 }\n         *             },\n         *             {\n         *                 image: {\n         *                     src: 'http://www.improgrammer.net/wp-content/uploads/2015/11/top-20-node-js-Frameworks-1.jpg',\n         *                     poster: 'http://www.improgrammer.net/wp-content/uploads/2015/11/top-20-node-js-Frameworks-1.jpg'\n         *                 }\n         *             },\n         *             {\n         *                 image: {\n         *                     src: 'http://www.improgrammer.net/wp-content/uploads/2015/11/top-20-node-js-Frameworks-1.jpg',\n         *                     poster: 'http://www.improgrammer.net/wp-content/uploads/2015/11/top-20-node-js-Frameworks-1.jpg'\n         *                 }\n         *             },\n         *             {\n         *                 image: {\n         *                     src: 'http://www.improgrammer.net/wp-content/uploads/2015/11/top-20-node-js-Frameworks-1.jpg',\n         *                     poster: 'http://www.improgrammer.net/wp-content/uploads/2015/11/top-20-node-js-Frameworks-1.jpg'\n         *                 }\n         *             },\n         *             {\n         *                 image: {\n         *                     src: 'http://www.improgrammer.net/wp-content/uploads/2015/11/top-20-node-js-Frameworks-1.jpg',\n         *                     poster: 'http://www.improgrammer.net/wp-content/uploads/2015/11/top-20-node-js-Frameworks-1.jpg'\n         *                 }\n         *             },\n         *             {\n         *                 image: {\n         *                     src: 'http://www.improgrammer.net/wp-content/uploads/2015/11/top-20-node-js-Frameworks-1.jpg',\n         *                     poster: 'http://www.improgrammer.net/wp-content/uploads/2015/11/top-20-node-js-Frameworks-1.jpg'\n         *                 }\n         *             },\n         *             {\n         *                 image: {\n         *                     src: 'https://www.twilio.com/blog/wp-content/uploads/2013/11/Screen-Shot-2013-11-06-at-12.05.36-PM.png',\n         *                     poster: 'https://www.twilio.com/blog/wp-content/uploads/2013/11/Screen-Shot-2013-11-06-at-12.05.36-PM.png'\n         *                 }\n         *             }\n         *         ]\n         *     },\n         *     onClick: function () {\n         *         console.log(this);\n         *     }\n         * });\n         * ```\n         */\n        var ax5mediaViewer = function () {\n            var self = this,\n                cfg,\n                ENM = {\n                    \"mousedown\": (ax5.info.supportTouch) ? \"touchstart\" : \"mousedown\",\n                    \"mousemove\": (ax5.info.supportTouch) ? \"touchmove\" : \"mousemove\",\n                    \"mouseup\": (ax5.info.supportTouch) ? \"touchend\" : \"mouseup\"\n                },\n                getMousePosition = function (e) {\n                    var mouseObj = ('changedTouches' in e.originalEvent && e.changedTouches) ? e.originalEvent.changedTouches[0] : e;\n\n                    return {\n                        clientX: mouseObj.clientX,\n                        clientY: mouseObj.clientY,\n                        time: (new Date()).getTime()\n                    }\n                };\n\n            this.instanceId = ax5.getGuid();\n            this.config = {\n                clickEventName: \"click\", //(('ontouchstart' in document.documentElement) ? \"touchend\" : \"click\"),\n                theme: 'default',\n                animateTime: 250,\n\n                columnKeys: {\n                    src: 'src',\n                    poster: 'poster',\n                    html: 'html'\n                },\n                loading: {\n                    icon: '',\n                    text: 'Now Loading'\n                },\n                viewer: {\n                    prevHandle: false,\n                    nextHandle: false,\n                    ratio: 16 / 9\n                },\n                media: {\n                    prevHandle: '<',\n                    nextHandle: '>',\n                    width: 36, height: 36,\n                    list: []\n                }\n            };\n            this.queue = [];\n            this.openTimer = null;\n            this.closeTimer = null;\n            this.selectedIndex = 0;\n            this.mousePosition = {};\n\n            cfg = this.config;\n\n            var\n                onStateChanged = function (opts, that) {\n                    if (opts && opts.onStateChanged) {\n                        opts.onStateChanged.call(that, that);\n                    }\n                    else if (this.onStateChanged) {\n                        this.onStateChanged.call(that, that);\n                    }\n                    return true;\n                },\n                getFrame = function () {\n                    var\n                        data = jQuery.extend(true, {id: this.id}, cfg);\n\n                    try {\n                        return MEDIAVIEWER.tmpl.get.call(this, \"frame\", data, cfg.columnKeys);\n                    }\n                    finally {\n                        data = null;\n                    }\n                },\n                onClick = function (e, target) {\n                    var\n                        result,\n                        elementType = \"\",\n                        processor = {\n                            'thumbnail': function (target) {\n                                this.select(target.getAttribute(\"data-media-thumbnail\"));\n                            },\n                            'prev': function (target) {\n                                if (this.selectedIndex > 0) {\n                                    this.select(this.selectedIndex - 1);\n                                } else {\n                                    this.select(cfg.media.list.length - 1);\n                                }\n                            },\n                            'next': function (target) {\n                                if (this.selectedIndex < cfg.media.list.length - 1) {\n                                    this.select(this.selectedIndex + 1);\n                                } else {\n                                    this.select(0);\n                                }\n                            },\n                            'viewer': function (target) {\n                                if (self.onClick) {\n                                    self.onClick.call({\n                                        media: cfg.media.list[this.selectedIndex]\n                                    });\n                                }\n                            }\n                        };\n\n                    target = U.findParentNode(e.target, function (target) {\n                        if (target.getAttribute(\"data-media-thumbnail\")) {\n                            elementType = \"thumbnail\";\n                            return true;\n                        }\n                        else if (target.getAttribute(\"data-media-viewer-els\") == \"media-list-prev-handle\") {\n                            elementType = \"prev\";\n                            return true;\n                        }\n                        else if (target.getAttribute(\"data-media-viewer-els\") == \"media-list-next-handle\") {\n                            elementType = \"next\";\n                            return true;\n                        }\n                        else if (target.getAttribute(\"data-media-viewer-els\") == \"viewer\") {\n                            elementType = \"viewer\";\n                            return true;\n                        }\n                        else if (self.target.get(0) == target) {\n                            return true;\n                        }\n                    });\n\n                    if (target) {\n                        for (var key in processor) {\n                            if (key == elementType) {\n                                result = processor[key].call(this, target);\n                                break;\n                            }\n                        }\n                        return this;\n                    }\n                    return this;\n                },\n                getSelectedIndex = function () {\n                    if (cfg.media && cfg.media.list && cfg.media.list.length > 0) {\n                        var i = cfg.media.list.length, selecteIndex = 0;\n                        while (i--) {\n                            if (cfg.media.list[i].selected) {\n                                selecteIndex = i;\n                                break;\n                            }\n                        }\n\n                        if (selecteIndex == 0) {\n                            cfg.media.list[0].selected = true;\n                        }\n                        try {\n                            return selecteIndex;\n                        } finally {\n                            i = null;\n                            selecteIndex = null;\n                        }\n                    }\n                    else {\n                        return;\n                    }\n                },\n                alignMediaList = function () {\n                    var thumbnail = this.$[\"list\"].find('[data-media-thumbnail=' + this.selectedIndex + ']'),\n                        pos = thumbnail.position(), thumbnailWidth = thumbnail.outerWidth(),\n                        containerWidth = this.$[\"list\"].outerWidth(),\n                        parentLeft = this.$[\"list-table\"].position().left,\n                        parentWidth = this.$[\"list-table\"].outerWidth(),\n                        newLeft = 0;\n\n                    if (pos.left + thumbnailWidth + parentLeft > containerWidth) {\n                        newLeft = containerWidth - (pos.left + thumbnailWidth);\n                        if (parentLeft != newLeft) this.$[\"list-table\"].css({left: parentLeft = newLeft});\n                    }\n                    else if (pos.left + parentLeft < 0) {\n                        newLeft = pos.left;\n                        if (newLeft > 0) newLeft = 0;\n                        if (parentLeft != newLeft) this.$[\"list-table\"].css({left: parentLeft = newLeft});\n                    }\n\n                    if (parentLeft != newLeft) {\n                        if (parentLeft + parentWidth < containerWidth) {\n                            newLeft = containerWidth - parentWidth;\n                            if (newLeft > 0) newLeft = 0;\n                            this.$[\"list-table\"].css({left: newLeft});\n                        }\n                    }\n\n                    thumbnail = null;\n                    pos = null;\n                    thumbnailWidth = null;\n                    containerWidth = null;\n                    parentLeft = null;\n                    newLeft = null;\n                },\n                swipeMedia = {\n                    \"on\": function (mousePosition) {\n                        // console.log(mousePosition);\n                        var getSwipePosition = function (e) {\n                            var mouseObj = e;\n                            if ('changedTouches' in e.originalEvent && e.changedTouches) {\n                                mouseObj = e.originalEvent.changedTouches[0];\n                            }\n\n                            mousePosition.__dx = mouseObj.clientX - mousePosition.clientX;\n                            mousePosition.__dy = mouseObj.clientY - mousePosition.clientY;\n                            mousePosition.__time = (new Date()).getTime();\n\n                            if (Math.abs(mousePosition.__dx) > Math.abs(mousePosition.__dy)) {\n                                return {left: mousePosition.__dx};\n                            } else {\n                                return {top: mousePosition.__dy};\n                            }\n                        };\n                        var viewerWidth = this.$[\"viewer\"].width();\n\n                        jQuery(document.body)\n                            .bind(ENM[\"mousemove\"] + \".ax5media-viewer-\" + this.instanceId, function (e) {\n                                var position = getSwipePosition(e);\n\n                                if ('left' in position) {\n                                    self.$[\"viewer-holder\"].css(position);\n                                    if (Math.abs(self.mousePosition.__dx) > viewerWidth / 3) {\n                                        //console.log(self.mousePosition);\n                                        // trigger nextMedia\n\n                                        var nextIndex = 0;\n\n                                        if (self.mousePosition.__dx > 0) {\n                                            if (self.selectedIndex > 0) {\n                                                nextIndex = self.selectedIndex - 1;\n                                            } else {\n                                                nextIndex = cfg.media.list.length - 1;\n                                            }\n                                        }\n                                        else {\n                                            if (self.selectedIndex < cfg.media.list.length - 1) {\n                                                nextIndex = self.selectedIndex + 1;\n                                            }\n                                        }\n\n                                        self.select(nextIndex);\n                                        swipeMedia.off.call(self);\n\n\n                                    }\n\n                                    U.stopEvent(e);\n                                }\n                            })\n                            .bind(ENM[\"mouseup\"] + \".ax5media-viewer-\" + this.instanceId, function (e) {\n                                swipeMedia.off.call(self);\n                            })\n                            .bind(\"mouseleave.ax5media-viewer-\" + this.instanceId, function (e) {\n                                swipeMedia.off.call(self);\n                            });\n\n                        jQuery(document.body)\n                            .attr('unselectable', 'on')\n                            .css('user-select', 'none')\n                            .on('selectstart', false);\n\n                    },\n                    \"off\": function () {\n                        self.$[\"viewer-holder\"].css({left: 0});\n                        jQuery(document.body)\n                            .unbind(ENM[\"mousemove\"] + \".ax5media-viewer-\" + this.instanceId)\n                            .unbind(ENM[\"mouseup\"] + \".ax5media-viewer-\" + this.instanceId)\n                            .unbind(\"mouseleave.ax5media-viewer-\" + this.instanceId);\n\n                        jQuery(document.body)\n                            .removeAttr('unselectable')\n                            .css('user-select', 'auto')\n                            .off('selectstart');\n\n                    }\n                };\n            /// private end\n\n            /**\n             * Preferences of mediaViewer UI\n             * @method ax5mediaViewer.setConfig\n             * @param {Object} config - 클래스 속성값\n             * @returns {ax5mediaViewer}\n             * @example\n             * ```\n             * ```\n             */\n            this.init = function () {\n                this.onStateChanged = cfg.onStateChanged;\n                this.onClick = cfg.onClick;\n                this.id = 'ax5-media-viewer-' + ax5.getGuid();\n                if (cfg.target && (cfg.media && cfg.media.list && cfg.media.list.length > 0)) {\n                    this.attach(cfg.target);\n                }\n            };\n\n            /**\n             * @method ax5mediaViewer.attach\n             * @param target\n             * @param options\n             * @returns {ax5mediaViewer}\n             */\n            this.attach = function (target, options) {\n                if (!target) {\n                    console.log(ax5.info.getError(\"ax5mediaViewer\", \"401\", \"setConfig\"));\n                }\n                if (typeof options != \"undefined\") {\n                    this.setConfig(options, false);\n                }\n                this.target = jQuery(target);\n                this.target.html(getFrame.call(this));\n\n                // 파트수집\n                this.$ = {\n                    \"root\": this.target.find('[data-ax5-ui-media-viewer]'),\n                    \"viewer-holder\": this.target.find('[data-media-viewer-els=\"viewer-holder\"]'),\n                    \"viewer\": this.target.find('[data-media-viewer-els=\"viewer\"]'),\n                    \"viewer-loading\": this.target.find('[data-media-viewer-els=\"viewer-loading\"]'),\n                    \"list-holder\": this.target.find('[data-media-viewer-els=\"media-list-holder\"]'),\n                    \"list-prev-handle\": this.target.find('[data-media-viewer-els=\"media-list-prev-handle\"]'),\n                    \"list\": this.target.find('[data-media-viewer-els=\"media-list\"]'),\n                    \"list-table\": this.target.find('[data-media-viewer-els=\"media-list-table\"]'),\n                    \"list-next-handle\": this.target.find('[data-media-viewer-els=\"media-list-next-handle\"]')\n                };\n\n                this.align();\n\n                jQuery(window).unbind(\"resize.ax5media-viewer-\" + this.id).bind(\"resize.ax5media-viewer-\" + this.id, (function () {\n                    this.align();\n                    alignMediaList.call(this);\n                }).bind(this));\n\n                this.target.unbind(\"click\").bind(\"click\", (function (e) {\n                    e = e || window.event;\n                    onClick.call(this, e);\n                    U.stopEvent(e);\n                }).bind(this));\n\n                this.$.viewer\n                    .unbind(ENM[\"mousedown\"])\n                    .bind(ENM[\"mousedown\"], (function (e) {\n                        this.mousePosition = getMousePosition(e);\n                        swipeMedia.on.call(this, this.mousePosition);\n                    }).bind(this))\n                    .unbind(\"dragstart\")\n                    .bind(\"dragstart\", function (e) {\n                        U.stopEvent(e);\n                        return false;\n                    });\n\n                this.select(getSelectedIndex.call(this));\n                return this;\n            };\n\n            /**\n             * @method ax5mediaViewer.align\n             * @returns {ax5mediaViewer}\n             */\n            this.align = function () {\n                // viewer width, height\n                this.$[\"viewer-holder\"].css({height: this.$[\"viewer\"].width() / cfg.viewer.ratio});\n                this.$[\"viewer\"].css({height: this.$[\"viewer\"].width() / cfg.viewer.ratio});\n\n                if (this.$[\"viewer\"].data(\"media-type\") == \"image\") {\n                    var $img = this.$[\"viewer\"].find(\"img\");\n                    $img.css({\n                        width: this.$[\"viewer\"].height() * this.$[\"viewer\"].data(\"img-ratio\"), height: this.$[\"viewer\"].height()\n                    });\n                    setTimeout((function (_img) {\n                        _img.css({left: (this.$[\"viewer\"].width() - _img.width()) / 2});\n                    }).bind(this, $img), 1);\n                }\n                else if (this.$[\"viewer\"].data(\"media-type\") == \"video\") {\n                    this.$[\"viewer\"].find(\"iframe\").css({width: this.$[\"viewer\"].height() * this.$[\"viewer\"].data(\"img-ratio\"), height: this.$[\"viewer\"].height()});\n                }\n                this.$[\"viewer-loading\"].css({height: this.$[\"viewer\"].height()});\n\n                var mediaThumbnailWidth = (U.right(cfg.media.width, 1) == '%') ? U.number(cfg.media.width) / 100 * this.$[\"viewer\"].width() : U.number(cfg.media.width),\n                    mediaThumbnailHeight = (U.right(cfg.media.height, 1) == '%') ? U.number(cfg.media.height) / 100 * this.$[\"viewer\"].width() : U.number(cfg.media.height);\n\n                mediaThumbnailWidth = Math.floor(mediaThumbnailWidth);\n                mediaThumbnailHeight = Math.floor(mediaThumbnailHeight);\n\n                this.$[\"list-prev-handle\"].css({width: mediaThumbnailWidth * 1.5});\n                this.$[\"list-next-handle\"].css({width: mediaThumbnailWidth * 1.5});\n                this.$[\"list\"].css({height: mediaThumbnailHeight});\n                this.$[\"list-table\"].find('[data-media-thumbnail]').css({width: mediaThumbnailWidth, height: mediaThumbnailHeight});\n                this.$[\"list-table\"].find('[data-media-thumbnail-video]').css({width: mediaThumbnailWidth, height: mediaThumbnailHeight});\n\n\n                return this;\n            };\n\n            /**\n             * @method ax5mediaViewer.select\n             * @param index\n             * @returns {ax5mediaViewer}\n             */\n            this.select = (function () {\n                var mediaView = {\n                    image: function (obj, callback) {\n                        self.$[\"viewer-loading\"].show();\n                        var dim = [this.$[\"viewer\"].width(), this.$[\"viewer\"].height()];\n                        var img = new Image();\n                        img.src = obj.image[cfg.columnKeys.src];\n                        img.onload = function () {\n                            self.$[\"viewer-loading\"].fadeOut();\n                            var h = dim[1];\n                            var w = h * img.width / img.height;\n                            callback(img, Math.floor(w), h);\n                        };\n                        return img;\n                    },\n                    video: function (obj, callback) {\n                        self.$[\"viewer-loading\"].show();\n                        var dim = [this.$[\"viewer\"].width(), this.$[\"viewer\"].height()];\n                        var html = jQuery(obj.video[cfg.columnKeys.html]);\n                        callback(html, dim[0], dim[1]);\n                        self.$[\"viewer-loading\"].fadeOut();\n                    }\n                };\n                var onLoad = {\n                    image: function (img, w, h) {\n                        img.width = w;\n                        img.height = h;\n\n                        var $img = $(img);\n                        this.$[\"viewer\"].html($img);\n                        $img.css({left: (this.$[\"viewer\"].width() - w) / 2});\n\n                        this.$[\"viewer\"].data(\"media-type\", \"image\");\n                        this.$[\"viewer\"].data(\"img-ratio\", w / h);\n                    },\n                    video: function (html, w, h) {\n                        html.css({width: w, height: h});\n                        this.$[\"viewer\"].html(html);\n                        this.$[\"viewer\"].data(\"media-type\", \"video\");\n                        this.$[\"viewer\"].data(\"img-ratio\", w / h);\n                    }\n                };\n                var select = function (index) {\n                    this.$[\"list\"].find('[data-media-thumbnail]').removeClass(\"selected\");\n                    this.$[\"list\"].find('[data-media-thumbnail=' + index + ']').addClass(\"selected\");\n                    alignMediaList.call(this);\n                };\n\n                return function (index) {\n                    if (typeof index === \"undefined\") return this;\n                    this.selectedIndex = Number(index);\n                    var media = cfg.media.list[index];\n                    select.call(this, index);\n\n                    for (var key in mediaView) {\n                        if (media[key]) {\n                            mediaView[key].call(this, media, onLoad[key].bind(this));\n                            break;\n                        }\n                    }\n                    return this;\n                };\n            })();\n\n            /**\n             * @method ax5mediaViewer.setMediaList\n             * @param list\n             * @returns {ax5mediaViewer}\n             */\n            this.setMediaList = function (list) {\n                cfg.media.list = [].concat(list);\n                this.attach(cfg.target);\n                return this;\n            };\n\n            // 클래스 생성자\n            this.main = (function () {\n\n                UI.mediaViewer_instance = UI.mediaViewer_instance || [];\n                UI.mediaViewer_instance.push(this);\n\n                if (arguments && U.isObject(arguments[0])) {\n                    this.setConfig(arguments[0]);\n                }\n                else {\n                    this.init();\n                }\n            }).apply(this, arguments);\n        };\n        return ax5mediaViewer;\n    })());\n\n    MEDIAVIEWER = ax5.ui.mediaViewer;\n})();","// ax5.ui.mediaViewer.tmpl\n(function () {\n    var MEDIAVIEWER = ax5.ui.mediaViewer;\n\n    var frame = function (columnKeys) {\n        return `\n            <div data-ax5-ui-media-viewer=\"{{id}}\" class=\"{{theme}}\">\n                <div data-media-viewer-els=\"viewer-holder\">\n                <div data-media-viewer-els=\"viewer\"></div>\n                </div>\n                <div data-media-viewer-els=\"viewer-loading\">\n                <div class=\"ax5-ui-media-viewer-loading-holder\">\n                <div class=\"ax5-ui-media-viewer-loading-cell\">\n                {{{loading.icon}}}\n            {{{loading.text}}}\n            </div>\n            </div>\n            </div>\n            {{#media}}\n            <div data-media-viewer-els=\"media-list-holder\">\n                <div data-media-viewer-els=\"media-list-prev-handle\">{{{prevHandle}}}</div>\n            <div data-media-viewer-els=\"media-list\">\n                <div data-media-viewer-els=\"media-list-table\">\n                {{#list}}\n            <div data-media-viewer-els=\"media-list-table-td\">\n                {{#image}}\n            <div data-media-thumbnail=\"{{@i}}\">\n                <img src=\"{{${columnKeys.poster}}}\" data-media-thumbnail-image=\"{{@i}}\" />\n                </div>\n                {{/image}}\n            {{#video}}\n            <div data-media-thumbnail=\"{{@i}}\">{{#${columnKeys.poster}}}<img src=\"{{.}}\" data-media-thumbnail-video=\"{{@i}}\" />>{{/${columnKeys.poster}}}{{^${columnKeys.poster}}}<a data-media-thumbnail-video=\"{{@i}}\">{{{media.${columnKeys.poster}}}}</a>{{/${columnKeys.poster}}}</div>\n            {{/video}}\n            </div>\n                {{/list}}\n            </div>\n                </div>\n                <div data-media-viewer-els=\"media-list-next-handle\">{{{nextHandle}}}</div>\n                </div>\n                {{/media}}\n            </div>\n        `;\n    };\n\n    MEDIAVIEWER.tmpl = {\n        \"frame\": frame,\n\n        get: function (tmplName, data, columnKeys) {\n            return ax5.mustache.render(MEDIAVIEWER.tmpl[tmplName].call(this, columnKeys), data);\n        }\n    };\n})();"]}