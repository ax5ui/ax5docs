{"version":3,"sources":["ax5media-viewer.js","ax5media-viewer-tmpl.js"],"names":["MEDIAVIEWER","UI","ax5","ui","U","util","addClass","className","ax5mediaViewer","cfg","self","this","ENM","mousedown","info","supportTouch","mousemove","mouseup","getMousePosition","e","mouseObj","originalEvent","changedTouches","clientX","clientY","time","Date","getTime","instanceId","getGuid","config","clickEventName","theme","animateTime","columnKeys","src","poster","html","loading","icon","text","viewer","prevHandle","nextHandle","ratio","hideMediaList","media","width","height","list","queue","openTimer","closeTimer","selectedIndex","mousePosition","getFrame","data","jQuery","extend","id","tmpl","get","call","onClick","target","result","elementType","processor","thumbnail","select","getAttribute","prev","length","next","findParentNode","key","getSelectedIndex","i","selecteIndex","selected","alignMediaList","$","find","pos","position","thumbnailWidth","outerWidth","containerWidth","parentLeft","left","parentWidth","newLeft","css","swipeMedia","on","getSwipePosition","__dx","__dy","__time","Math","abs","top","viewerWidth","document","body","bind","nextIndex","off","stopEvent","attr","unbind","removeAttr","init","onStateChanged","attach","options","console","log","getError","setConfig","root","viewer-holder","viewer-prev","viewer-loading","list-holder","list-prev-handle","list-table","list-next-handle","align","window","event","$img","setTimeout","_img","mediaThumbnailWidth","right","number","mediaThumbnailHeight","floor","mediaView","image","obj","callback","show","dim","img","Image","onload","fadeOut","h","w","removeClass","video","onLoad","index","Number","setMediaList","concat","move","direction","play","_opt","opt","interval","playTimer","clearTimeout","stop","main","mediaViewer_instance","push","arguments","isObject","apply","mediaViewer","frame","tmplName","mustache","render"],"mappings":"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","file":"ax5media-viewer.min.js","sourcesContent":["// ax5.ui.mediaViewer\n(function () {\n\n    var UI = ax5.ui;\n    var U = ax5.util;\n    var MEDIAVIEWER;\n\n    UI.addClass({\n        className: \"mediaViewer\"\n    }, (function () {\n        /**\n         * @class ax5mediaViewer\n         * @classdesc\n         * @author tom@axisj.com\n         * @example\n         * ```js\n         * var myViewer = new ax5.ui.mediaViewer({\n         *     theme: \"danger\",\n         *     target: $(\"#media-viewer-target-0\"),\n         *     loading: {\n         *         icon: '<i class=\"fa fa-spinner fa-pulse fa-2x fa-fw margin-bottom\" aria-hidden=\"true\"></i>',\n         *         text: '<div>Now Loading</div>'\n         *     },\n         *     media: {\n         *         width: '11%', height: '11%',\n         *         prevHandle: '<i class=\"fa fa-chevron-left\"></i>',\n         *         nextHandle: '<i class=\"fa fa-chevron-right\"></i>',\n         *         poster: '<i class=\"fa fa-youtube-play\" style=\"font-size: 20px;\"></i>',\n         *         list: [\n         *             {\n         *                 video: {\n         *                     html: '<iframe src=\"https://player.vimeo.com/video/121840700?color=fcfcfc&badge=0\" frameborder=\"0\" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>',\n         *                     poster: ''\n         *                 }\n         *             },\n         *             {\n         *                 video: {\n         *                     html: '<iframe width=\"560\" height=\"315\" src=\"https://www.youtube.com/embed/w9Uh2oP88JI\" frameborder=\"0\" allowfullscreen></iframe>',\n         *                     poster: ''\n         *                 }\n         *             },\n         *             {\n         *                 image: {\n         *                     src: 'http://www.improgrammer.net/wp-content/uploads/2015/11/top-20-node-js-Frameworks-1.jpg',\n         *                     poster: 'http://www.improgrammer.net/wp-content/uploads/2015/11/top-20-node-js-Frameworks-1.jpg'\n         *                 }\n         *             },\n         *             {\n         *                 image: {\n         *                     src: 'http://www.improgrammer.net/wp-content/uploads/2015/11/top-20-node-js-Frameworks-1.jpg',\n         *                     poster: 'http://www.improgrammer.net/wp-content/uploads/2015/11/top-20-node-js-Frameworks-1.jpg'\n         *                 }\n         *             },\n         *             {\n         *                 image: {\n         *                     src: 'http://www.improgrammer.net/wp-content/uploads/2015/11/top-20-node-js-Frameworks-1.jpg',\n         *                     poster: 'http://www.improgrammer.net/wp-content/uploads/2015/11/top-20-node-js-Frameworks-1.jpg'\n         *                 }\n         *             },\n         *             {\n         *                 image: {\n         *                     src: 'http://www.improgrammer.net/wp-content/uploads/2015/11/top-20-node-js-Frameworks-1.jpg',\n         *                     poster: 'http://www.improgrammer.net/wp-content/uploads/2015/11/top-20-node-js-Frameworks-1.jpg'\n         *                 }\n         *             },\n         *             {\n         *                 image: {\n         *                     src: 'http://www.improgrammer.net/wp-content/uploads/2015/11/top-20-node-js-Frameworks-1.jpg',\n         *                     poster: 'http://www.improgrammer.net/wp-content/uploads/2015/11/top-20-node-js-Frameworks-1.jpg'\n         *                 }\n         *             },\n         *             {\n         *                 image: {\n         *                     src: 'http://www.improgrammer.net/wp-content/uploads/2015/11/top-20-node-js-Frameworks-1.jpg',\n         *                     poster: 'http://www.improgrammer.net/wp-content/uploads/2015/11/top-20-node-js-Frameworks-1.jpg'\n         *                 }\n         *             },\n         *             {\n         *                 image: {\n         *                     src: 'https://www.twilio.com/blog/wp-content/uploads/2013/11/Screen-Shot-2013-11-06-at-12.05.36-PM.png',\n         *                     poster: 'https://www.twilio.com/blog/wp-content/uploads/2013/11/Screen-Shot-2013-11-06-at-12.05.36-PM.png'\n         *                 }\n         *             }\n         *         ]\n         *     },\n         *     onClick: function () {\n         *         console.log(this);\n         *     }\n         * });\n         * ```\n         */\n        var ax5mediaViewer = function () {\n            var self = this,\n                cfg,\n                ENM = {\n                    \"mousedown\": (ax5.info.supportTouch) ? \"touchstart\" : \"mousedown\",\n                    \"mousemove\": (ax5.info.supportTouch) ? \"touchmove\" : \"mousemove\",\n                    \"mouseup\": (ax5.info.supportTouch) ? \"touchend\" : \"mouseup\"\n                },\n                getMousePosition = function (e) {\n                    var mouseObj = ('changedTouches' in e.originalEvent && e.changedTouches) ? e.originalEvent.changedTouches[0] : e;\n\n                    return {\n                        clientX: mouseObj.clientX,\n                        clientY: mouseObj.clientY,\n                        time: (new Date()).getTime()\n                    }\n                };\n\n            this.instanceId = ax5.getGuid();\n            this.config = {\n                clickEventName: \"click\", //(('ontouchstart' in document.documentElement) ? \"touchend\" : \"click\"),\n                theme: 'default',\n                animateTime: 500,\n\n                columnKeys: {\n                    src: 'src',\n                    poster: 'poster',\n                    html: 'html'\n                },\n                loading: {\n                    icon: '',\n                    text: 'Now Loading'\n                },\n                viewer: {\n                    prevHandle: false,\n                    nextHandle: false,\n                    ratio: 16 / 9\n                },\n                hideMediaList: false,\n                media: {\n                    prevHandle: '<',\n                    nextHandle: '>',\n                    width: 36, height: 36,\n                    list: []\n                }\n            };\n            this.queue = [];\n            this.openTimer = null;\n            this.closeTimer = null;\n            this.selectedIndex = 0;\n            this.mousePosition = {};\n\n            cfg = this.config;\n\n            var\n                onStateChanged = function (opts, that) {\n                    if (opts && opts.onStateChanged) {\n                        opts.onStateChanged.call(that, that);\n                    }\n                    else if (this.onStateChanged) {\n                        this.onStateChanged.call(that, that);\n                    }\n                    return true;\n                },\n                getFrame = function () {\n                    var\n                        data = jQuery.extend(true, {id: this.id}, cfg);\n\n                    try {\n                        return MEDIAVIEWER.tmpl.get.call(this, \"frame\", data, cfg.columnKeys);\n                    }\n                    finally {\n                        data = null;\n                    }\n                },\n                onClick = function (e, target) {\n                    var\n                        result,\n                        elementType = \"\",\n                        processor = {\n                            'thumbnail': function (target) {\n                                this.select(target.getAttribute(\"data-media-thumbnail\"));\n                            },\n                            'prev': function (target) {\n                                if (this.selectedIndex > 0) {\n                                    this.select(this.selectedIndex - 1);\n                                } else {\n                                    this.select(cfg.media.list.length - 1);\n                                }\n                            },\n                            'next': function (target) {\n                                if (this.selectedIndex < cfg.media.list.length - 1) {\n                                    this.select(this.selectedIndex + 1);\n                                } else {\n                                    this.select(0);\n                                }\n                            },\n                            'viewer': function (target) {\n                                if (self.onClick) {\n                                    self.onClick.call({\n                                        media: cfg.media.list[this.selectedIndex]\n                                    });\n                                }\n                            }\n                        };\n\n                    target = U.findParentNode(e.target, function (target) {\n                        if (target.getAttribute(\"data-media-thumbnail\")) {\n                            elementType = \"thumbnail\";\n                            return true;\n                        }\n                        else if (target.getAttribute(\"data-media-viewer-els\") == \"media-list-prev-handle\") {\n                            elementType = \"prev\";\n                            return true;\n                        }\n                        else if (target.getAttribute(\"data-media-viewer-els\") == \"media-list-next-handle\") {\n                            elementType = \"next\";\n                            return true;\n                        }\n                        else if (target.getAttribute(\"data-media-viewer-els\") == \"viewer\") {\n                            elementType = \"viewer\";\n                            return true;\n                        }\n                        else if (self.target.get(0) == target) {\n                            return true;\n                        }\n                    });\n\n                    if (target) {\n                        for (var key in processor) {\n                            if (key == elementType) {\n                                result = processor[key].call(this, target);\n                                break;\n                            }\n                        }\n                        return this;\n                    }\n                    return this;\n                },\n                getSelectedIndex = function () {\n                    if (cfg.media && cfg.media.list && cfg.media.list.length > 0) {\n                        var i = cfg.media.list.length, selecteIndex = 0;\n                        while (i--) {\n                            if (cfg.media.list[i].selected) {\n                                selecteIndex = i;\n                                break;\n                            }\n                        }\n\n                        if (selecteIndex == 0) {\n                            cfg.media.list[0].selected = true;\n                        }\n                        try {\n                            return selecteIndex;\n                        } finally {\n                            i = null;\n                            selecteIndex = null;\n                        }\n                    }\n                    else {\n                        return;\n                    }\n                },\n                alignMediaList = function () {\n                    var thumbnail = this.$[\"list\"].find('[data-media-thumbnail=' + this.selectedIndex + ']'),\n                        pos = thumbnail.position(), thumbnailWidth = thumbnail.outerWidth(),\n                        containerWidth = this.$[\"list\"].outerWidth(),\n                        parentLeft = this.$[\"list-table\"].position().left,\n                        parentWidth = this.$[\"list-table\"].outerWidth(),\n                        newLeft = 0;\n\n                    if (pos.left + thumbnailWidth + parentLeft > containerWidth) {\n                        newLeft = containerWidth - (pos.left + thumbnailWidth);\n                        if (parentLeft != newLeft) this.$[\"list-table\"].css({left: parentLeft = newLeft});\n                    }\n                    else if (pos.left + parentLeft < 0) {\n                        newLeft = pos.left;\n                        if (newLeft > 0) newLeft = 0;\n                        if (parentLeft != newLeft) this.$[\"list-table\"].css({left: parentLeft = newLeft});\n                    }\n\n                    if (parentLeft != newLeft) {\n                        if (parentLeft + parentWidth < containerWidth) {\n                            newLeft = containerWidth - parentWidth;\n                            if (newLeft > 0) newLeft = 0;\n                            this.$[\"list-table\"].css({left: newLeft});\n                        }\n                    }\n\n                    thumbnail = null;\n                    pos = null;\n                    thumbnailWidth = null;\n                    containerWidth = null;\n                    parentLeft = null;\n                    newLeft = null;\n                },\n                swipeMedia = {\n                    \"on\": function (mousePosition) {\n                        // console.log(mousePosition);\n                        var getSwipePosition = function (e) {\n                            var mouseObj = e;\n                            if ('changedTouches' in e.originalEvent && e.changedTouches) {\n                                mouseObj = e.originalEvent.changedTouches[0];\n                            }\n\n                            mousePosition.__dx = mouseObj.clientX - mousePosition.clientX;\n                            mousePosition.__dy = mouseObj.clientY - mousePosition.clientY;\n                            mousePosition.__time = (new Date()).getTime();\n\n                            if (Math.abs(mousePosition.__dx) > Math.abs(mousePosition.__dy)) {\n                                return {left: mousePosition.__dx};\n                            } else {\n                                return {top: mousePosition.__dy};\n                            }\n                        };\n                        var viewerWidth = this.$[\"viewer\"].width();\n\n                        jQuery(document.body)\n                            .bind(ENM[\"mousemove\"] + \".ax5media-viewer-\" + this.instanceId, function (e) {\n                                var position = getSwipePosition(e);\n\n                                if ('left' in position) {\n                                    self.$[\"viewer-holder\"].css(position);\n                                    if (Math.abs(self.mousePosition.__dx) > viewerWidth / 3) {\n                                        //console.log(self.mousePosition);\n                                        // trigger nextMedia\n\n                                        var nextIndex = 0;\n\n                                        if (self.mousePosition.__dx > 0) {\n                                            if (self.selectedIndex > 0) {\n                                                nextIndex = self.selectedIndex - 1;\n                                            } else {\n                                                nextIndex = cfg.media.list.length - 1;\n                                            }\n                                        }\n                                        else {\n                                            if (self.selectedIndex < cfg.media.list.length - 1) {\n                                                nextIndex = self.selectedIndex + 1;\n                                            }\n                                        }\n\n                                        self.select(nextIndex);\n                                        swipeMedia.off.call(self);\n\n\n                                    }\n\n                                    U.stopEvent(e);\n                                }\n                            })\n                            .bind(ENM[\"mouseup\"] + \".ax5media-viewer-\" + this.instanceId, function (e) {\n                                swipeMedia.off.call(self);\n                            })\n                            .bind(\"mouseleave.ax5media-viewer-\" + this.instanceId, function (e) {\n                                swipeMedia.off.call(self);\n                            });\n\n                        jQuery(document.body)\n                            .attr('unselectable', 'on')\n                            .css('user-select', 'none')\n                            .on('selectstart', false);\n\n                    },\n                    \"off\": function () {\n                        self.$[\"viewer-holder\"].css({left: 0});\n                        jQuery(document.body)\n                            .unbind(ENM[\"mousemove\"] + \".ax5media-viewer-\" + this.instanceId)\n                            .unbind(ENM[\"mouseup\"] + \".ax5media-viewer-\" + this.instanceId)\n                            .unbind(\"mouseleave.ax5media-viewer-\" + this.instanceId);\n\n                        jQuery(document.body)\n                            .removeAttr('unselectable')\n                            .css('user-select', 'auto')\n                            .off('selectstart');\n\n                    }\n                };\n            /// private end\n\n            /**\n             * Preferences of mediaViewer UI\n             * @method ax5mediaViewer.setConfig\n             * @param {Object} config - 클래스 속성값\n             * @returns {ax5mediaViewer}\n             * @example\n             * ```\n             * ```\n             */\n            this.init = function () {\n                this.onStateChanged = cfg.onStateChanged;\n                this.onClick = cfg.onClick;\n                this.id = 'ax5-media-viewer-' + ax5.getGuid();\n                if (cfg.target && (cfg.media && cfg.media.list && cfg.media.list.length > 0)) {\n                    this.attach(cfg.target);\n                }\n            };\n\n            /**\n             * @method ax5mediaViewer.attach\n             * @param target\n             * @param options\n             * @returns {ax5mediaViewer}\n             */\n            this.attach = function (target, options) {\n                if (!target) {\n                    console.log(ax5.info.getError(\"ax5mediaViewer\", \"401\", \"setConfig\"));\n                }\n                if (typeof options != \"undefined\") {\n                    this.setConfig(options, false);\n                }\n                this.target = jQuery(target);\n                this.target.html(getFrame.call(this));\n\n                // 파트수집\n                this.$ = {\n                    \"root\": this.target.find('[data-ax5-ui-media-viewer]'),\n                    \"viewer-holder\": this.target.find('[data-media-viewer-els=\"viewer-holder\"]'),\n                    \"viewer\": this.target.find('[data-media-viewer-els=\"viewer\"]'),\n                    \"viewer-prev\": this.target.find('[data-media-viewer-els=\"viewer-prev\"]'),\n                    \"viewer-loading\": this.target.find('[data-media-viewer-els=\"viewer-loading\"]'),\n                    \"list-holder\": this.target.find('[data-media-viewer-els=\"media-list-holder\"]'),\n                    \"list-prev-handle\": this.target.find('[data-media-viewer-els=\"media-list-prev-handle\"]'),\n                    \"list\": this.target.find('[data-media-viewer-els=\"media-list\"]'),\n                    \"list-table\": this.target.find('[data-media-viewer-els=\"media-list-table\"]'),\n                    \"list-next-handle\": this.target.find('[data-media-viewer-els=\"media-list-next-handle\"]')\n                };\n\n                this.align();\n\n                jQuery(window).unbind(\"resize.ax5media-viewer-\" + this.id).bind(\"resize.ax5media-viewer-\" + this.id, (function () {\n                    this.align();\n                    alignMediaList.call(this);\n                }).bind(this));\n\n                this.target.unbind(\"click\").bind(\"click\", (function (e) {\n                    e = e || window.event;\n                    onClick.call(this, e);\n                    U.stopEvent(e);\n                }).bind(this));\n\n                this.$.viewer\n                    .unbind(ENM[\"mousedown\"])\n                    .bind(ENM[\"mousedown\"], (function (e) {\n                        this.mousePosition = getMousePosition(e);\n                        swipeMedia.on.call(this, this.mousePosition);\n                    }).bind(this))\n                    .unbind(\"dragstart\")\n                    .bind(\"dragstart\", function (e) {\n                        U.stopEvent(e);\n                        return false;\n                    });\n\n                this.select(getSelectedIndex.call(this));\n                return this;\n            };\n\n            /**\n             * @method ax5mediaViewer.align\n             * @returns {ax5mediaViewer}\n             */\n            this.align = function () {\n                // viewer width, height\n                this.$[\"viewer-holder\"].css({height: this.$[\"viewer\"].width() / cfg.viewer.ratio});\n                this.$[\"viewer\"].css({height: this.$[\"viewer\"].width() / cfg.viewer.ratio});\n\n                if (this.$[\"viewer\"].data(\"media-type\") == \"image\") {\n                    var $img = this.$[\"viewer\"].find(\"img\");\n                    $img.css({\n                        width: this.$[\"viewer\"].height() * this.$[\"viewer\"].data(\"img-ratio\"), height: this.$[\"viewer\"].height()\n                    });\n                    setTimeout((function (_img) {\n                        _img.css({left: (this.$[\"viewer\"].width() - _img.width()) / 2});\n                    }).bind(this, $img), 1);\n                }\n                else if (this.$[\"viewer\"].data(\"media-type\") == \"video\") {\n                    this.$[\"viewer\"].find(\"iframe\").css({width: this.$[\"viewer\"].height() * this.$[\"viewer\"].data(\"img-ratio\"), height: this.$[\"viewer\"].height()});\n                }\n                this.$[\"viewer-loading\"].css({height: this.$[\"viewer\"].height()});\n\n                var mediaThumbnailWidth = (U.right(cfg.media.width, 1) == '%') ? U.number(cfg.media.width) / 100 * this.$[\"viewer\"].width() : U.number(cfg.media.width),\n                    mediaThumbnailHeight = (U.right(cfg.media.height, 1) == '%') ? U.number(cfg.media.height) / 100 * this.$[\"viewer\"].width() : U.number(cfg.media.height);\n\n                mediaThumbnailWidth = Math.floor(mediaThumbnailWidth);\n                mediaThumbnailHeight = Math.floor(mediaThumbnailHeight);\n\n                this.$[\"list-prev-handle\"].css({width: mediaThumbnailWidth * 1.5});\n                this.$[\"list-next-handle\"].css({width: mediaThumbnailWidth * 1.5});\n                this.$[\"list\"].css({height: mediaThumbnailHeight});\n                this.$[\"list-table\"].find('[data-media-thumbnail]').css({width: mediaThumbnailWidth, height: mediaThumbnailHeight});\n                this.$[\"list-table\"].find('[data-media-thumbnail-video]').css({width: mediaThumbnailWidth, height: mediaThumbnailHeight});\n\n\n                return this;\n            };\n\n            /**\n             * @method ax5mediaViewer.select\n             * @param index\n             * @returns {ax5mediaViewer}\n             */\n            this.select = (function () {\n                var mediaView = {\n                    image: function (obj, callback) {\n\n                        if (cfg.loading) {\n\n                            self.$[\"viewer-loading\"].show();\n                            var dim = [this.$[\"viewer\"].width(), this.$[\"viewer\"].height()];\n                            var img = new Image();\n                            img.src = obj.image[cfg.columnKeys.src];\n                            img.onload = function () {\n                                self.$[\"viewer-loading\"].fadeOut();\n                                var h = dim[1];\n                                var w = h * img.width / img.height;\n                                callback(img, Math.floor(w), h);\n                            };\n                            return img;\n                        } else {\n                            var dim = [this.$[\"viewer\"].width(), this.$[\"viewer\"].height()];\n                            var img = new Image();\n                            img.src = obj.image[cfg.columnKeys.src];\n\n                            if(this.$[\"viewer\"].find(\"img\").get(0)){\n\n                                self.$[\"viewer-prev\"]\n                                    .html(this.$[\"viewer\"].html())\n                                    .addClass(\"slide-out\");\n\n                                img.onload = function () {\n\n                                    var h = dim[1];\n                                    var w = h * img.width / img.height;\n                                    callback(img, Math.floor(w), h);\n\n                                    setTimeout(function () {\n                                        self.$[\"viewer-prev\"].removeClass(\"slide-out\");\n\n                                    }, cfg.animateTime);\n\n                                };\n                                return img;\n\n\n                            }else{\n                                img.onload = function () {\n                                    var h = dim[1];\n                                    var w = h * img.width / img.height;\n                                    callback(img, Math.floor(w), h);\n                                };\n                                return img;\n                            }\n                        }\n\n                    },\n                    video: function (obj, callback) {\n                        self.$[\"viewer-loading\"].show();\n                        var dim = [this.$[\"viewer\"].width(), this.$[\"viewer\"].height()];\n                        var html = jQuery(obj.video[cfg.columnKeys.html]);\n                        callback(html, dim[0], dim[1]);\n                        self.$[\"viewer-loading\"].fadeOut();\n                    }\n                };\n                var onLoad = {\n                    image: function (img, w, h) {\n                        img.width = w;\n                        img.height = h;\n\n                        var $img = $(img);\n                        this.$[\"viewer\"].html($img);\n                        $img.css({left: (this.$[\"viewer\"].width() - w) / 2});\n\n                        this.$[\"viewer\"].data(\"media-type\", \"image\");\n                        this.$[\"viewer\"].data(\"img-ratio\", w / h);\n                    },\n                    video: function (html, w, h) {\n                        html.css({width: w, height: h});\n                        this.$[\"viewer\"].html(html);\n                        this.$[\"viewer\"].data(\"media-type\", \"video\");\n                        this.$[\"viewer\"].data(\"img-ratio\", w / h);\n                    }\n                };\n                var select = function (index) {\n                    this.$[\"list\"].find('[data-media-thumbnail]').removeClass(\"selected\");\n                    this.$[\"list\"].find('[data-media-thumbnail=' + index + ']').addClass(\"selected\");\n                    alignMediaList.call(this);\n                };\n\n                return function (index) {\n                    if (typeof index === \"undefined\") return this;\n                    this.selectedIndex = Number(index);\n                    var media = cfg.media.list[index];\n                    select.call(this, index);\n\n                    for (var key in mediaView) {\n                        if (media[key]) {\n                            mediaView[key].call(this, media, onLoad[key].bind(this));\n                            break;\n                        }\n                    }\n                    return this;\n                };\n            })();\n\n            /**\n             * @method ax5mediaViewer.setMediaList\n             * @param list\n             * @returns {ax5mediaViewer}\n             */\n            this.setMediaList = function (list) {\n                cfg.media.list = [].concat(list);\n                this.attach(cfg.target);\n                return this;\n            };\n\n            this.move = function (direction) {\n                var processor = {\n                    'prev': function () {\n                        if (this.selectedIndex > 0) {\n                            this.select(this.selectedIndex - 1);\n                        } else {\n                            this.select(cfg.media.list.length - 1);\n                        }\n                    },\n                    'next': function () {\n                        if (this.selectedIndex < cfg.media.list.length - 1) {\n                            this.select(this.selectedIndex + 1);\n                        } else {\n                            this.select(0);\n                        }\n                    }\n                };\n\n                if (!direction) direction = \"next\";\n\n                if (direction in processor) {\n                    processor[direction].call(this);\n                }\n            };\n\n            this.play = function (_opt) {\n                var opt = jQuery.extend({\n                    interval: 5000\n                }, _opt);\n\n                if (this.playTimer) clearTimeout(this.playTimer);\n                this.playTimer = setTimeout(function () {\n                    self.move(\"next\");\n                    self.play(opt);\n                }, opt.interval);\n            };\n\n            this.stop = function () {\n                if (this.playTimer) clearTimeout(this.playTimer);\n            };\n\n            // 클래스 생성자\n            this.main = (function () {\n                UI.mediaViewer_instance = UI.mediaViewer_instance || [];\n                UI.mediaViewer_instance.push(this);\n\n                if (arguments && U.isObject(arguments[0])) {\n                    this.setConfig(arguments[0]);\n                }\n                else {\n                    this.init();\n                }\n            }).apply(this, arguments);\n        };\n        return ax5mediaViewer;\n    })());\n\n    MEDIAVIEWER = ax5.ui.mediaViewer;\n})();","// ax5.ui.mediaViewer.tmpl\n(function () {\n    var MEDIAVIEWER = ax5.ui.mediaViewer;\n\n    var frame = function (columnKeys) {\n        return `\n<div data-ax5-ui-media-viewer=\"{{id}}\" class=\"{{theme}}\">\n    <div data-media-viewer-els=\"viewer-holder\">\n        <div data-media-viewer-els=\"viewer\"></div>\n    </div>\n    {{#loading}}\n    <div data-media-viewer-els=\"viewer-loading\">\n        <div class=\"ax5-ui-media-viewer-loading-holder\">\n            <div class=\"ax5-ui-media-viewer-loading-cell\">\n            {{{loading.icon}}}\n            {{{loading.text}}}\n            </div>\n        </div>\n    </div>\n    {{/loading}}\n    {{^loading}}\n    <div data-media-viewer-els=\"viewer-prev\"></div>\n    {{/loading}}\n    \n    {{#media}}\n    <div data-media-viewer-els=\"media-list-holder\" {{#hideMediaList}}style=\"display:none;\"{{/hideMediaList}}>\n        <div data-media-viewer-els=\"media-list-prev-handle\">{{{prevHandle}}}</div>\n        <div data-media-viewer-els=\"media-list\">\n            <div data-media-viewer-els=\"media-list-table\">\n            {{#list}}\n                <div data-media-viewer-els=\"media-list-table-td\">\n                {{#image}}\n                <div data-media-thumbnail=\"{{@i}}\">\n                <img src=\"{{${columnKeys.poster}}}\" data-media-thumbnail-image=\"{{@i}}\" />\n                </div>\n                {{/image}}\n                {{#video}}\n                <div data-media-thumbnail=\"{{@i}}\">{{#${columnKeys.poster}}}<img src=\"{{.}}\" data-media-thumbnail-video=\"{{@i}}\" />>{{/${columnKeys.poster}}}{{^${columnKeys.poster}}}<a data-media-thumbnail-video=\"{{@i}}\">{{{media.${columnKeys.poster}}}}</a>{{/${columnKeys.poster}}}</div>\n                {{/video}}\n                </div>\n            {{/list}}\n            </div>\n        </div>\n        <div data-media-viewer-els=\"media-list-next-handle\">{{{nextHandle}}}</div>\n    </div>\n    {{/media}}\n    \n</div>`;\n    };\n\n    MEDIAVIEWER.tmpl = {\n        \"frame\": frame,\n\n        get: function (tmplName, data, columnKeys) {\n            return ax5.mustache.render(MEDIAVIEWER.tmpl[tmplName].call(this, columnKeys), data);\n        }\n    };\n})();"]}