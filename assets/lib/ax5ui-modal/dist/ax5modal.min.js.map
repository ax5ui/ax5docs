{"version":3,"sources":["ax5modal.min.js","ax5modal.js","ax5modal-tmpl.js"],"names":["MODAL","UI","ax5","ui","U","util","addClass","className","version","ax5modal","cfg","self","this","ENM","mousedown","info","supportTouch","mousemove","mouseup","getMousePosition","e","mouseObj","changedTouches","clientX","clientY","instanceId","getGuid","config","id","position","left","top","margin","minimizePosition","clickEventName","theme","width","height","closeToEsc","disableDrag","animateTime","activeModal","$","onStateChanged","opts","that","call","getContent","modalId","data","header","fullScreen","styles","iframe","iframeLoadingMsg","zIndex","absolute","param","tmpl","get","open","callback","jQuery","document","body","append","root","find","align","state","css","attr","method","target","action","url","on","hide","bind","show","submit","window","onkeyup","event","btnOnClick","isFullScreen","isButton","findParentNode","_target","getAttribute","mousePosition","moveModal","stopEvent","k","srcElement","key","value","btns","dialogId","btnTarget","onClick","keyCode","eventKeys","ESC","close","alignProcessor","top-left","top-right","bottom-left","bottom-right","center-middle","modalZIndex","modalOffset","modalBox","outerWidth","outerHeight","windowBox","getResizerPosition","__dx","__dy","minX","maxX","minY","maxY","scrollLeft","scrollTop","resizer","resizerBg","off","setModalPosition","box","offset","removeClass","remove","unbind","removeAttr","init","modalConfig","extend","setTimeout","$iframe","iframeObject","idoc","contentDocument","contentWindow","children","each","innerHTML","CollectGarbage","minimized","minimize","originalHeight","maximize","undefined","setModalConfig","_config","_fullScreen","isFunction","headerHeight","main","modal_instance","push","arguments","isObject","setConfig","apply","modal","content","tmplName","columnKeys","mustache","render"],"mappings":"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","file":"ax5modal.min.js","sourcesContent":["\"use strict\";\n\n// ax5.ui.modal\n(function () {\n\n    var UI = ax5.ui;\n    var U = ax5.util;\n    var MODAL;\n\n    UI.addClass({\n        className: \"modal\",\n        version: \"${VERSION}\"\n    }, function () {\n        /**\n         * @class ax5modal\n         * @alias ax5.ui.modal\n         * @author tom@axisj.com\n         * @example\n         * ```js\n         * var modal = new ax5.ui.modal({\n         *     iframeLoadingMsg: '<i class=\"fa fa-spinner fa-5x fa-spin\" aria-hidden=\"true\"></i>',\n         *     header: {\n         *         title: \"MODAL TITLE\",\n         *         btns: {\n         *             minimize: {\n         *                 label: '<i class=\"fa fa-minus-circle\" aria-hidden=\"true\"></i>', onClick: function () {\n         *                     modal.minimize();\n         *                 }\n         *             },\n         *             maximize: {\n         *                 label: '<i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i>', onClick: function () {\n         *                     modal.maximize();\n         *                 }\n         *             },\n         *             close: {\n         *                 label: '<i class=\"fa fa-times-circle\" aria-hidden=\"true\"></i>', onClick: function () {\n         *                     modal.close();\n         *                 }\n         *             }\n         *         }\n         *     }\n         * });\n         *\n         * modal.open({\n         *     width: 800,\n         *     height: 600,\n         *     fullScreen: function(){\n         *         return ($(window).width() < 600);\n         *     },\n         *     iframe: {\n         *         method: \"get\",\n         *         url: \"http://chequer-app:2017/html/login.html\",\n         *         param: \"callback=modalCallback\"\n         *     }\n         * });\n         * ```\n         */\n        var ax5modal = function ax5modal() {\n            var self = this,\n                cfg,\n                ENM = {\n                \"mousedown\": ax5.info.supportTouch ? \"touchstart\" : \"mousedown\",\n                \"mousemove\": ax5.info.supportTouch ? \"touchmove\" : \"mousemove\",\n                \"mouseup\": ax5.info.supportTouch ? \"touchend\" : \"mouseup\"\n            },\n                getMousePosition = function getMousePosition(e) {\n                var mouseObj = e;\n                if ('changedTouches' in e) {\n                    mouseObj = e.changedTouches[0];\n                }\n                return {\n                    clientX: mouseObj.clientX,\n                    clientY: mouseObj.clientY\n                };\n            };\n\n            this.instanceId = ax5.getGuid();\n            this.config = {\n                id: 'ax5-modal-' + this.instanceId,\n                position: {\n                    left: \"center\",\n                    top: \"middle\",\n                    margin: 10\n                },\n                minimizePosition: \"bottom-right\",\n                clickEventName: \"click\", //(('ontouchstart' in document.documentElement) ? \"touchstart\" : \"click\"),\n                theme: 'default',\n                width: 300,\n                height: 400,\n                closeToEsc: true,\n                disableDrag: false,\n                animateTime: 250\n            };\n            this.activeModal = null;\n            this.$ = {}; // UI inside of the jQuery object store\n\n            cfg = this.config; // extended config copy cfg\n\n            var onStateChanged = function onStateChanged(opts, that) {\n                if (opts && opts.onStateChanged) {\n                    opts.onStateChanged.call(that, that);\n                } else if (this.onStateChanged) {\n                    this.onStateChanged.call(that, that);\n                }\n                return true;\n            },\n                getContent = function getContent(modalId, opts) {\n                var data = {\n                    modalId: modalId,\n                    theme: opts.theme,\n                    header: opts.header,\n                    fullScreen: opts.fullScreen ? \"fullscreen\" : \"\",\n                    styles: \"\",\n                    iframe: opts.iframe,\n                    iframeLoadingMsg: opts.iframeLoadingMsg\n                };\n\n                if (opts.zIndex) {\n                    data.styles += \"z-index:\" + opts.zIndex + \";\";\n                }\n                if (opts.absolute) {\n                    data.styles += \"position:absolute;\";\n                }\n\n                if (data.iframe && typeof data.iframe.param === \"string\") {\n                    data.iframe.param = ax5.util.param(data.iframe.param);\n                }\n\n                return MODAL.tmpl.get.call(this, \"content\", data, {});\n            },\n                open = function open(opts, callback) {\n                var that;\n                jQuery(document.body).append(getContent.call(this, opts.id, opts));\n\n                this.activeModal = jQuery('#' + opts.id);\n\n                // 파트수집\n                this.$ = {\n                    \"root\": this.activeModal,\n                    \"header\": this.activeModal.find('[data-modal-els=\"header\"]'),\n                    \"body\": this.activeModal.find('[data-modal-els=\"body\"]')\n                };\n\n                if (opts.iframe) {\n                    this.$[\"iframe-wrap\"] = this.activeModal.find('[data-modal-els=\"iframe-wrap\"]');\n                    this.$[\"iframe\"] = this.activeModal.find('[data-modal-els=\"iframe\"]');\n                    this.$[\"iframe-form\"] = this.activeModal.find('[data-modal-els=\"iframe-form\"]');\n                    this.$[\"iframe-loading\"] = this.activeModal.find('[data-modal-els=\"iframe-loading\"]');\n                }\n\n                //- position 정렬\n                this.align();\n\n                that = {\n                    self: this,\n                    id: opts.id,\n                    theme: opts.theme,\n                    width: opts.width,\n                    height: opts.height,\n                    state: \"open\",\n                    $: this.$\n                };\n\n                if (opts.iframe) {\n                    this.$[\"iframe-wrap\"].css({ height: opts.height });\n                    this.$[\"iframe\"].css({ height: opts.height });\n\n                    // iframe content load\n                    this.$[\"iframe-form\"].attr({ \"method\": opts.iframe.method });\n                    this.$[\"iframe-form\"].attr({ \"target\": opts.id + \"-frame\" });\n                    this.$[\"iframe-form\"].attr({ \"action\": opts.iframe.url });\n                    this.$[\"iframe\"].on(\"load\", function () {\n                        that.state = \"load\";\n                        if (opts.iframeLoadingMsg) {\n                            this.$[\"iframe-loading\"].hide();\n                        }\n                        onStateChanged.call(this, opts, that);\n                    }.bind(this));\n                    if (!opts.iframeLoadingMsg) {\n                        this.$[\"iframe\"].show();\n                    }\n                    this.$[\"iframe-form\"].submit();\n                }\n\n                if (callback) callback.call(that);\n                onStateChanged.call(this, opts, that);\n\n                // bind key event\n                if (opts.closeToEsc) {\n                    jQuery(window).bind(\"keydown.ax-modal\", function (e) {\n                        onkeyup.call(this, e || window.event);\n                    }.bind(this));\n                }\n                jQuery(window).bind(\"resize.ax-modal\", function (e) {\n                    this.align(null, e || window.event);\n                }.bind(this));\n\n                this.activeModal.find(\"[data-modal-header-btn]\").on(cfg.clickEventName, function (e) {\n                    btnOnClick.call(this, e || window.event, opts);\n                }.bind(this));\n\n                this.$.header.bind(ENM[\"mousedown\"], function (e) {\n                    if (opts.isFullScreen) return false;\n\n                    /// 이벤트 필터링 추가 : 버튼엘리먼트로 부터 발생된 이벤트이면 moveModal 시작하지 않도록 필터링\n                    var isButton = U.findParentNode(e.target, function (_target) {\n                        if (_target.getAttribute(\"data-modal-header-btn\")) {\n                            return true;\n                        }\n                    });\n\n                    if (!isButton && opts.disableDrag != true) {\n                        self.mousePosition = getMousePosition(e);\n                        moveModal.on.call(self);\n                    }\n                }).bind(\"dragstart\", function (e) {\n                    U.stopEvent(e);\n                    return false;\n                });\n            },\n                btnOnClick = function btnOnClick(e, opts, callback, target, k) {\n                var that;\n                if (e.srcElement) e.target = e.srcElement;\n\n                target = U.findParentNode(e.target, function (target) {\n                    if (target.getAttribute(\"data-modal-header-btn\")) {\n                        return true;\n                    }\n                });\n\n                if (target) {\n                    k = target.getAttribute(\"data-modal-header-btn\");\n\n                    that = {\n                        self: this,\n                        key: k, value: opts.header.btns[k],\n                        dialogId: opts.id,\n                        btnTarget: target\n                    };\n\n                    if (opts.header.btns[k].onClick) {\n                        opts.header.btns[k].onClick.call(that, k);\n                    }\n                }\n\n                that = null;\n                opts = null;\n                callback = null;\n                target = null;\n                k = null;\n            },\n                onkeyup = function onkeyup(e) {\n                if (e.keyCode == ax5.info.eventKeys.ESC) {\n                    this.close();\n                }\n            },\n                alignProcessor = {\n                \"top-left\": function topLeft() {\n                    this.align({ left: \"left\", top: \"top\" });\n                },\n                \"top-right\": function topRight() {\n                    this.align({ left: \"right\", top: \"top\" });\n                },\n                \"bottom-left\": function bottomLeft() {\n                    this.align({ left: \"left\", top: \"bottom\" });\n                },\n                \"bottom-right\": function bottomRight() {\n                    this.align({ left: \"right\", top: \"bottom\" });\n                },\n                \"center-middle\": function centerMiddle() {\n                    this.align({ left: \"center\", top: \"middle\" });\n                }\n            },\n                moveModal = {\n                \"on\": function on() {\n                    var modalZIndex = this.activeModal.css(\"z-index\");\n                    var modalOffset = this.activeModal.position();\n                    var modalBox = {\n                        width: this.activeModal.outerWidth(), height: this.activeModal.outerHeight()\n                    };\n                    var windowBox = {\n                        width: jQuery(window).width(),\n                        height: jQuery(window).height()\n                    };\n                    var getResizerPosition = function getResizerPosition(e) {\n                        self.__dx = e.clientX - self.mousePosition.clientX;\n                        self.__dy = e.clientY - self.mousePosition.clientY;\n\n                        var minX = 0;\n                        var maxX = windowBox.width - modalBox.width;\n                        var minY = 0;\n                        var maxY = windowBox.height - modalBox.height;\n\n                        if (minX > modalOffset.left + self.__dx) {\n                            self.__dx = -modalOffset.left;\n                        } else if (maxX < modalOffset.left + self.__dx) {\n                            self.__dx = maxX - modalOffset.left;\n                        }\n\n                        if (minY > modalOffset.top + self.__dy) {\n                            self.__dy = -modalOffset.top;\n                        } else if (maxY < modalOffset.top + self.__dy) {\n                            self.__dy = maxY - modalOffset.top;\n                        }\n\n                        return {\n                            left: modalOffset.left + self.__dx + $(document).scrollLeft(),\n                            top: modalOffset.top + self.__dy + $(document).scrollTop()\n                        };\n                    };\n\n                    self.__dx = 0; // 변화량 X\n                    self.__dy = 0; // 변화량 Y\n\n                    if (!self.resizer) {\n                        // self.resizerBg : body 가 window보다 작을 때 문제 해결을 위한 DIV\n                        self.resizerBg = jQuery('<div class=\"ax5modal-resizer-background\" ondragstart=\"return false;\"></div>');\n                        self.resizer = jQuery('<div class=\"ax5modal-resizer\" ondragstart=\"return false;\"></div>');\n                        self.resizerBg.css({ zIndex: modalZIndex });\n                        self.resizer.css({\n                            left: modalOffset.left,\n                            top: modalOffset.top,\n                            width: modalBox.width,\n                            height: modalBox.height,\n                            zIndex: modalZIndex + 1\n                        });\n                        jQuery(document.body).append(self.resizerBg).append(self.resizer);\n                        self.activeModal.addClass(\"draged\");\n                    }\n\n                    jQuery(document.body).bind(ENM[\"mousemove\"] + \".ax5modal-\" + cfg.id, function (e) {\n                        self.resizer.css(getResizerPosition(e));\n                    }).bind(ENM[\"mouseup\"] + \".ax5layout-\" + this.instanceId, function (e) {\n                        moveModal.off.call(self);\n                    }).bind(\"mouseleave.ax5layout-\" + this.instanceId, function (e) {\n                        moveModal.off.call(self);\n                    });\n\n                    jQuery(document.body).attr('unselectable', 'on').css('user-select', 'none').on('selectstart', false);\n                },\n                \"off\": function off() {\n                    var setModalPosition = function setModalPosition() {\n                        //console.log(this.activeModal.offset(), this.__dx);\n                        var box = this.activeModal.offset();\n                        box.left += this.__dx - $(document).scrollLeft();\n                        box.top += this.__dy - $(document).scrollTop();\n                        this.activeModal.css(box);\n                    };\n\n                    if (this.resizer) {\n                        this.activeModal.removeClass(\"draged\");\n                        this.resizer.remove();\n                        this.resizer = null;\n                        this.resizerBg.remove();\n                        this.resizerBg = null;\n                        setModalPosition.call(this);\n                        //this.align();\n                    }\n\n                    jQuery(document.body).unbind(ENM[\"mousemove\"] + \".ax5modal-\" + cfg.id).unbind(ENM[\"mouseup\"] + \".ax5modal-\" + cfg.id).unbind(\"mouseleave.ax5modal-\" + cfg.id);\n\n                    jQuery(document.body).removeAttr('unselectable').css('user-select', 'auto').off('selectstart');\n                }\n            };\n\n            /// private end\n\n            /**\n             * Preferences of modal UI\n             * @method ax5modal.setConfig\n             * @param {Object} config - 클래스 속성값\n             * @param {Number} [config.zIndex]\n             * @param {Boolean} [config.absolute=false]\n             * @returns {ax5modal}\n             * @example\n             * ```\n             * ```\n             */\n            //== class body start\n            this.init = function () {\n                this.onStateChanged = cfg.onStateChanged;\n            };\n\n            /**\n             * open the modal\n             * @method ax5modal.open\n             * @returns {ax5modal}\n             * @example\n             * ```\n             * my_modal.open();\n             * ```\n             */\n            this.open = function (opts, callback) {\n                if (!this.activeModal) {\n                    opts = self.modalConfig = jQuery.extend(true, {}, cfg, opts);\n                    open.call(this, opts, callback);\n                }\n                return this;\n            };\n\n            /**\n             * close the modal\n             * @method ax5modal.close\n             * @returns {ax5modal}\n             * @example\n             * ```\n             * my_modal.close();\n             * ```\n             */\n            this.close = function (opts) {\n                if (this.activeModal) {\n                    opts = self.modalConfig;\n                    this.activeModal.addClass(\"destroy\");\n                    jQuery(window).unbind(\"keydown.ax-modal\");\n                    jQuery(window).unbind(\"resize.ax-modal\");\n\n                    setTimeout(function () {\n                        if (this.activeModal) {\n\n                            // 프레임 제거\n                            if (opts.iframe) {\n                                var $iframe = this.$[\"iframe\"]; // iframe jQuery Object\n                                if ($iframe) {\n                                    var iframeObject = $iframe.get(0),\n                                        idoc = iframeObject.contentDocument ? iframeObject.contentDocument : iframeObject.contentWindow.document;\n\n                                    try {\n                                        $(idoc.body).children().each(function () {\n                                            $(this).remove();\n                                        });\n                                    } catch (e) {}\n                                    idoc.innerHTML = \"\";\n                                    $iframe.attr('src', 'about:blank').remove();\n\n                                    // force garbarge collection for IE only\n                                    window.CollectGarbage && window.CollectGarbage();\n                                }\n                            }\n\n                            this.activeModal.remove();\n                            this.activeModal = null;\n                        }\n                        onStateChanged.call(this, opts, {\n                            self: this,\n                            state: \"close\"\n                        });\n                    }.bind(this), cfg.animateTime);\n                }\n\n                this.minimized = false; // hoksi\n\n                return this;\n            };\n\n            /**\n             * @method ax5modal.minimize\n             * @returns {ax5modal}\n             */\n            this.minimize = function () {\n\n                return function (minimizePosition) {\n\n                    if (this.minimized !== true) {\n\n                        var opts = self.modalConfig;\n                        if (typeof minimizePosition === \"undefined\") minimizePosition = cfg.minimizePosition;\n\n                        this.minimized = true;\n                        this.$.body.hide();\n                        self.modalConfig.originalHeight = opts.height;\n                        self.modalConfig.height = 0;\n                        alignProcessor[minimizePosition].call(this);\n\n                        onStateChanged.call(this, opts, {\n                            self: this,\n                            state: \"minimize\"\n                        });\n                    }\n\n                    return this;\n                };\n            }();\n\n            /**\n             * @method ax5modal.maximize\n             * @returns {ax5modal}\n             */\n            this.maximize = function () {\n                var opts = self.modalConfig;\n                if (this.minimized) {\n                    this.minimized = false;\n                    this.$.body.show();\n                    self.modalConfig.height = self.modalConfig.originalHeight;\n                    self.modalConfig.originalHeight = undefined;\n\n                    this.align({ left: \"center\", top: \"middle\" });\n                    onStateChanged.call(this, opts, {\n                        self: this,\n                        state: \"restore\"\n                    });\n                }\n                return this;\n            };\n\n            /**\n             * setCSS\n             * @method ax5modal.css\n             * @param {Object} css -\n             * @returns {ax5modal}\n             */\n            this.css = function (css) {\n                if (this.activeModal && !self.fullScreen) {\n                    this.activeModal.css(css);\n                    if (css.width) {\n                        self.modalConfig.width = this.activeModal.width();\n                    }\n                    if (css.height) {\n                        self.modalConfig.height = this.activeModal.height();\n                        if (this.$[\"iframe\"]) {\n                            this.$[\"iframe-wrap\"].css({ height: self.modalConfig.height });\n                            this.$[\"iframe\"].css({ height: self.modalConfig.height });\n                        }\n                    }\n                }\n                return this;\n            };\n\n            /**\n             * @method ax5modal.setModalConfig\n             * @param _config\n             * @returns {ax5.ui.ax5modal}\n             */\n            this.setModalConfig = function (_config) {\n                self.modalConfig = jQuery.extend({}, self.modalConfig, _config);\n                this.align();\n                return this;\n            };\n\n            /**\n             * @method ax5modal.align\n             * @param position\n             * @param e\n             * @returns {ax5modal}\n             */\n            this.align = function () {\n\n                return function (position, e) {\n                    if (!this.activeModal) return this;\n\n                    var opts = self.modalConfig,\n                        box = {\n                        width: opts.width,\n                        height: opts.height\n                    };\n\n                    var fullScreen = opts.isFullScreen = function (_fullScreen) {\n                        if (typeof _fullScreen === \"undefined\") {\n                            return false;\n                        } else if (U.isFunction(_fullScreen)) {\n                            return _fullScreen();\n                        }\n                    }(opts.fullScreen);\n\n                    if (fullScreen) {\n                        if (opts.header) this.$.header.show();\n                        box.width = jQuery(window).width();\n                        box.height = opts.height;\n                        box.left = 0;\n                        box.top = 0;\n                    } else {\n                        if (opts.header) this.$.header.show();\n                        if (position) {\n                            jQuery.extend(true, opts.position, position);\n                        }\n\n                        if (opts.header) {\n                            opts.headerHeight = this.$.header.outerHeight();\n                            box.height += opts.headerHeight;\n                        } else {\n                            opts.headerHeight = 0;\n                        }\n\n                        //- position 정렬\n                        if (opts.position.left == \"left\") {\n                            box.left = opts.position.margin || 0;\n                        } else if (opts.position.left == \"right\") {\n                            // window.innerWidth;\n                            box.left = jQuery(window).width() - box.width - (opts.position.margin || 0);\n                        } else if (opts.position.left == \"center\") {\n                            box.left = jQuery(window).width() / 2 - box.width / 2;\n                        } else {\n                            box.left = opts.position.left || 0;\n                        }\n\n                        if (opts.position.top == \"top\") {\n                            box.top = opts.position.margin || 0;\n                        } else if (opts.position.top == \"bottom\") {\n                            box.top = jQuery(window).height() - box.height - (opts.position.margin || 0);\n                        } else if (opts.position.top == \"middle\") {\n                            box.top = jQuery(window).height() / 2 - box.height / 2;\n                        } else {\n                            box.top = opts.position.top || 0;\n                        }\n                        if (box.left < 0) box.left = 0;\n                        if (box.top < 0) box.top = 0;\n                    }\n\n                    this.activeModal.css(box);\n\n                    if (opts.iframe) {\n                        this.$[\"iframe-wrap\"].css({ height: box.height - opts.headerHeight });\n                        this.$[\"iframe\"].css({ height: box.height - opts.headerHeight });\n                    }\n                    return this;\n                };\n            }();\n\n            // 클래스 생성자\n            this.main = function () {\n\n                UI.modal_instance = UI.modal_instance || [];\n                UI.modal_instance.push(this);\n\n                if (arguments && U.isObject(arguments[0])) {\n                    this.setConfig(arguments[0]);\n                }\n            }.apply(this, arguments);\n        };\n        return ax5modal;\n    }());\n\n    MODAL = ax5.ui.modal;\n})();\n\n// ax5.ui.modal.tmpl\n(function () {\n    var MODAL = ax5.ui.modal;\n\n    var content = function content() {\n        return \" \\n        <div id=\\\"{{modalId}}\\\" data-modal-els=\\\"root\\\" class=\\\"ax5modal {{theme}} {{fullscreen}}\\\" style=\\\"{{styles}}\\\">\\n            {{#header}}\\n            <div class=\\\"ax-modal-header\\\" data-modal-els=\\\"header\\\">\\n                {{{title}}}\\n                {{#btns}}\\n                    <div class=\\\"ax-modal-header-addon\\\">\\n                    {{#@each}}\\n                    <button tabindex=\\\"-1\\\" data-modal-header-btn=\\\"{{@key}}\\\" class=\\\"{{@value.theme}}\\\">{{{@value.label}}}</button>\\n                    {{/@each}}\\n                    </div>\\n                {{/btns}}\\n            </div>\\n            {{/header}}\\n            <div class=\\\"ax-modal-body\\\" data-modal-els=\\\"body\\\">\\n            {{#iframe}}\\n            \\n                <div data-modal-els=\\\"iframe-wrap\\\" style=\\\"-webkit-overflow-scrolling: touch; overflow: auto;position: relative;\\\">\\n                    <table data-modal-els=\\\"iframe-loading\\\" style=\\\"width:100%;height:100%;\\\"><tr><td style=\\\"text-align: center;vertical-align: middle\\\">{{{iframeLoadingMsg}}}</td></tr></table>\\n                    <iframe name=\\\"{{modalId}}-frame\\\" src=\\\"\\\" width=\\\"100%\\\" height=\\\"100%\\\" frameborder=\\\"0\\\" data-modal-els=\\\"iframe\\\" style=\\\"position: absolute;left:0;top:0;\\\"></iframe>\\n                </div>\\n                <form name=\\\"{{modalId}}-form\\\" data-modal-els=\\\"iframe-form\\\">\\n                <input type=\\\"hidden\\\" name=\\\"modalId\\\" value=\\\"{{modalId}}\\\" />\\n                {{#param}}\\n                {{#@each}}\\n                <input type=\\\"hidden\\\" name=\\\"{{@key}}\\\" value=\\\"{{@value}}\\\" />\\n                {{/@each}}\\n                {{/param}}\\n                </form>\\n            {{/iframe}}\\n            </div>\\n            <div class=\\\"ax-modal-body-mask\\\"></div>\\n        </div>\\n        \";\n    };\n\n    MODAL.tmpl = {\n        \"content\": content,\n\n        get: function get(tmplName, data, columnKeys) {\n            return ax5.mustache.render(MODAL.tmpl[tmplName].call(this, columnKeys), data);\n        }\n    };\n})();","// ax5.ui.modal\n(function () {\n\n    var UI = ax5.ui;\n    var U = ax5.util;\n    var MODAL;\n\n    UI.addClass({\n        className: \"modal\",\n        version: \"${VERSION}\"\n    }, (function () {\n        /**\n         * @class ax5modal\n         * @alias ax5.ui.modal\n         * @author tom@axisj.com\n         * @example\n         * ```js\n         * var modal = new ax5.ui.modal({\n         *     iframeLoadingMsg: '<i class=\"fa fa-spinner fa-5x fa-spin\" aria-hidden=\"true\"></i>',\n         *     header: {\n         *         title: \"MODAL TITLE\",\n         *         btns: {\n         *             minimize: {\n         *                 label: '<i class=\"fa fa-minus-circle\" aria-hidden=\"true\"></i>', onClick: function () {\n         *                     modal.minimize();\n         *                 }\n         *             },\n         *             maximize: {\n         *                 label: '<i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i>', onClick: function () {\n         *                     modal.maximize();\n         *                 }\n         *             },\n         *             close: {\n         *                 label: '<i class=\"fa fa-times-circle\" aria-hidden=\"true\"></i>', onClick: function () {\n         *                     modal.close();\n         *                 }\n         *             }\n         *         }\n         *     }\n         * });\n         *\n         * modal.open({\n         *     width: 800,\n         *     height: 600,\n         *     fullScreen: function(){\n         *         return ($(window).width() < 600);\n         *     },\n         *     iframe: {\n         *         method: \"get\",\n         *         url: \"http://chequer-app:2017/html/login.html\",\n         *         param: \"callback=modalCallback\"\n         *     }\n         * });\n         * ```\n         */\n        var ax5modal = function () {\n            var\n                self = this,\n                cfg,\n                ENM = {\n                    \"mousedown\": (ax5.info.supportTouch) ? \"touchstart\" : \"mousedown\",\n                    \"mousemove\": (ax5.info.supportTouch) ? \"touchmove\" : \"mousemove\",\n                    \"mouseup\": (ax5.info.supportTouch) ? \"touchend\" : \"mouseup\"\n                },\n                getMousePosition = function (e) {\n                    var mouseObj = e;\n                    if ('changedTouches' in e) {\n                        mouseObj = e.changedTouches[0];\n                    }\n                    return {\n                        clientX: mouseObj.clientX,\n                        clientY: mouseObj.clientY\n                    }\n                };\n\n            this.instanceId = ax5.getGuid();\n            this.config = {\n                id: 'ax5-modal-' + this.instanceId,\n                position: {\n                    left: \"center\",\n                    top: \"middle\",\n                    margin: 10\n                },\n                minimizePosition: \"bottom-right\",\n                clickEventName: \"click\", //(('ontouchstart' in document.documentElement) ? \"touchstart\" : \"click\"),\n                theme: 'default',\n                width: 300,\n                height: 400,\n                closeToEsc: true,\n                disableDrag: false,\n                animateTime: 250\n            };\n            this.activeModal = null;\n            this.$ = {}; // UI inside of the jQuery object store\n\n            cfg = this.config; // extended config copy cfg\n\n            var\n                onStateChanged = function (opts, that) {\n                    if (opts && opts.onStateChanged) {\n                        opts.onStateChanged.call(that, that);\n                    }\n                    else if (this.onStateChanged) {\n                        this.onStateChanged.call(that, that);\n                    }\n                    return true;\n                },\n                getContent = function (modalId, opts) {\n                    var\n                        data = {\n                            modalId: modalId,\n                            theme: opts.theme,\n                            header: opts.header,\n                            fullScreen: (opts.fullScreen ? \"fullscreen\" : \"\"),\n                            styles: \"\",\n                            iframe: opts.iframe,\n                            iframeLoadingMsg: opts.iframeLoadingMsg\n                        };\n\n                    if (opts.zIndex) {\n                        data.styles += \"z-index:\" + opts.zIndex + \";\";\n                    }\n                    if (opts.absolute) {\n                        data.styles += \"position:absolute;\";\n                    }\n\n                    if (data.iframe && typeof data.iframe.param === \"string\") {\n                        data.iframe.param = ax5.util.param(data.iframe.param);\n                    }\n\n                    return MODAL.tmpl.get.call(this, \"content\", data, {});\n                },\n                open = function (opts, callback) {\n                    var that;\n                    jQuery(document.body).append(getContent.call(this, opts.id, opts));\n\n                    this.activeModal = jQuery('#' + opts.id);\n\n                    // 파트수집\n                    this.$ = {\n                        \"root\": this.activeModal,\n                        \"header\": this.activeModal.find('[data-modal-els=\"header\"]'),\n                        \"body\": this.activeModal.find('[data-modal-els=\"body\"]')\n                    };\n\n                    if (opts.iframe) {\n                        this.$[\"iframe-wrap\"] = this.activeModal.find('[data-modal-els=\"iframe-wrap\"]');\n                        this.$[\"iframe\"] = this.activeModal.find('[data-modal-els=\"iframe\"]');\n                        this.$[\"iframe-form\"] = this.activeModal.find('[data-modal-els=\"iframe-form\"]');\n                        this.$[\"iframe-loading\"] = this.activeModal.find('[data-modal-els=\"iframe-loading\"]');\n                    }\n\n                    //- position 정렬\n                    this.align();\n\n                    that = {\n                        self: this,\n                        id: opts.id,\n                        theme: opts.theme,\n                        width: opts.width,\n                        height: opts.height,\n                        state: \"open\",\n                        $: this.$\n                    };\n\n                    if (opts.iframe) {\n                        this.$[\"iframe-wrap\"].css({height: opts.height});\n                        this.$[\"iframe\"].css({height: opts.height});\n\n                        // iframe content load\n                        this.$[\"iframe-form\"].attr({\"method\": opts.iframe.method});\n                        this.$[\"iframe-form\"].attr({\"target\": opts.id + \"-frame\"});\n                        this.$[\"iframe-form\"].attr({\"action\": opts.iframe.url});\n                        this.$[\"iframe\"].on(\"load\", (function () {\n                            that.state = \"load\";\n                            if (opts.iframeLoadingMsg) {\n                                this.$[\"iframe-loading\"].hide();\n                            }\n                            onStateChanged.call(this, opts, that);\n                        }).bind(this));\n                        if (!opts.iframeLoadingMsg) {\n                            this.$[\"iframe\"].show();\n                        }\n                        this.$[\"iframe-form\"].submit();\n                    }\n\n                    if (callback) callback.call(that);\n                    onStateChanged.call(this, opts, that);\n\n                    // bind key event\n                    if (opts.closeToEsc) {\n                        jQuery(window).bind(\"keydown.ax-modal\", (function (e) {\n                            onkeyup.call(this, e || window.event);\n                        }).bind(this));\n                    }\n                    jQuery(window).bind(\"resize.ax-modal\", (function (e) {\n                        this.align(null, e || window.event);\n                    }).bind(this));\n\n                    this.activeModal.find(\"[data-modal-header-btn]\").on(cfg.clickEventName, (function (e) {\n                        btnOnClick.call(this, e || window.event, opts);\n                    }).bind(this));\n\n                    this.$.header\n                        .bind(ENM[\"mousedown\"], function (e) {\n                            if (opts.isFullScreen) return false;\n\n                            /// 이벤트 필터링 추가 : 버튼엘리먼트로 부터 발생된 이벤트이면 moveModal 시작하지 않도록 필터링\n                            var isButton = U.findParentNode(e.target, function (_target) {\n                                if (_target.getAttribute(\"data-modal-header-btn\")) {\n                                    return true;\n                                }\n                            });\n\n                            if (!isButton && opts.disableDrag != true) {\n                                self.mousePosition = getMousePosition(e);\n                                moveModal.on.call(self);\n                            }\n                        })\n                        .bind(\"dragstart\", function (e) {\n                            U.stopEvent(e);\n                            return false;\n                        });\n                },\n                btnOnClick = function (e, opts, callback, target, k) {\n                    var that;\n                    if (e.srcElement) e.target = e.srcElement;\n\n                    target = U.findParentNode(e.target, function (target) {\n                        if (target.getAttribute(\"data-modal-header-btn\")) {\n                            return true;\n                        }\n                    });\n\n                    if (target) {\n                        k = target.getAttribute(\"data-modal-header-btn\");\n\n                        that = {\n                            self: this,\n                            key: k, value: opts.header.btns[k],\n                            dialogId: opts.id,\n                            btnTarget: target\n                        };\n\n                        if (opts.header.btns[k].onClick) {\n                            opts.header.btns[k].onClick.call(that, k);\n                        }\n                    }\n\n                    that = null;\n                    opts = null;\n                    callback = null;\n                    target = null;\n                    k = null;\n                },\n                onkeyup = function (e) {\n                    if (e.keyCode == ax5.info.eventKeys.ESC) {\n                        this.close();\n                    }\n                },\n                alignProcessor = {\n                    \"top-left\": function () {\n                        this.align({left: \"left\", top: \"top\"});\n                    },\n                    \"top-right\": function () {\n                        this.align({left: \"right\", top: \"top\"});\n                    },\n                    \"bottom-left\": function () {\n                        this.align({left: \"left\", top: \"bottom\"});\n                    },\n                    \"bottom-right\": function () {\n                        this.align({left: \"right\", top: \"bottom\"});\n                    },\n                    \"center-middle\": function () {\n                        this.align({left: \"center\", top: \"middle\"});\n                    }\n                },\n                moveModal = {\n                    \"on\": function () {\n                        var modalZIndex = this.activeModal.css(\"z-index\");\n                        var modalOffset = this.activeModal.position();\n                        var modalBox = {\n                            width: this.activeModal.outerWidth(), height: this.activeModal.outerHeight()\n                        };\n                        var windowBox = {\n                            width: jQuery(window).width(),\n                            height: jQuery(window).height()\n                        };\n                        var getResizerPosition = function (e) {\n                            self.__dx = e.clientX - self.mousePosition.clientX;\n                            self.__dy = e.clientY - self.mousePosition.clientY;\n\n                            var minX = 0;\n                            var maxX = windowBox.width - modalBox.width;\n                            var minY = 0;\n                            var maxY = windowBox.height - modalBox.height;\n\n                            if (minX > modalOffset.left + self.__dx) {\n                                self.__dx = -modalOffset.left;\n                            }\n                            else if (maxX < modalOffset.left + self.__dx) {\n                                self.__dx = (maxX) - modalOffset.left;\n                            }\n\n                            if (minY > modalOffset.top + self.__dy) {\n                                self.__dy = -modalOffset.top;\n                            }\n                            else if (maxY < modalOffset.top + self.__dy) {\n                                self.__dy = (maxY) - modalOffset.top;\n                            }\n\n                            return {\n                                left: modalOffset.left + self.__dx + $(document).scrollLeft(),\n                                top: modalOffset.top + self.__dy + $(document).scrollTop()\n                            };\n                        };\n\n                        self.__dx = 0; // 변화량 X\n                        self.__dy = 0; // 변화량 Y\n\n                        if (!self.resizer) {\n                            // self.resizerBg : body 가 window보다 작을 때 문제 해결을 위한 DIV\n                            self.resizerBg = jQuery('<div class=\"ax5modal-resizer-background\" ondragstart=\"return false;\"></div>');\n                            self.resizer = jQuery('<div class=\"ax5modal-resizer\" ondragstart=\"return false;\"></div>');\n                            self.resizerBg.css({zIndex: modalZIndex});\n                            self.resizer.css({\n                                left: modalOffset.left,\n                                top: modalOffset.top,\n                                width: modalBox.width,\n                                height: modalBox.height,\n                                zIndex: modalZIndex + 1\n                            });\n                            jQuery(document.body)\n                                .append(self.resizerBg)\n                                .append(self.resizer);\n                            self.activeModal.addClass(\"draged\");\n                        }\n\n                        jQuery(document.body)\n                            .bind(ENM[\"mousemove\"] + \".ax5modal-\" + cfg.id, function (e) {\n                                self.resizer.css(getResizerPosition(e));\n                            })\n                            .bind(ENM[\"mouseup\"] + \".ax5layout-\" + this.instanceId, function (e) {\n                                moveModal.off.call(self);\n                            })\n                            .bind(\"mouseleave.ax5layout-\" + this.instanceId, function (e) {\n                                moveModal.off.call(self);\n                            });\n\n                        jQuery(document.body)\n                            .attr('unselectable', 'on')\n                            .css('user-select', 'none')\n                            .on('selectstart', false);\n                    },\n                    \"off\": function () {\n                        var setModalPosition = function () {\n                            //console.log(this.activeModal.offset(), this.__dx);\n                            var box = this.activeModal.offset();\n                            box.left += this.__dx - $(document).scrollLeft();\n                            box.top += this.__dy - $(document).scrollTop();\n                            this.activeModal.css(box);\n                        };\n\n                        if (this.resizer) {\n                            this.activeModal.removeClass(\"draged\");\n                            this.resizer.remove();\n                            this.resizer = null;\n                            this.resizerBg.remove();\n                            this.resizerBg = null;\n                            setModalPosition.call(this);\n                            //this.align();\n                        }\n\n                        jQuery(document.body)\n                            .unbind(ENM[\"mousemove\"] + \".ax5modal-\" + cfg.id)\n                            .unbind(ENM[\"mouseup\"] + \".ax5modal-\" + cfg.id)\n                            .unbind(\"mouseleave.ax5modal-\" + cfg.id);\n\n                        jQuery(document.body)\n                            .removeAttr('unselectable')\n                            .css('user-select', 'auto')\n                            .off('selectstart');\n\n                    }\n                };\n\n            /// private end\n\n            /**\n             * Preferences of modal UI\n             * @method ax5modal.setConfig\n             * @param {Object} config - 클래스 속성값\n             * @param {Number} [config.zIndex]\n             * @param {Boolean} [config.absolute=false]\n             * @returns {ax5modal}\n             * @example\n             * ```\n             * ```\n             */\n            //== class body start\n            this.init = function () {\n                this.onStateChanged = cfg.onStateChanged;\n            };\n\n            /**\n             * open the modal\n             * @method ax5modal.open\n             * @returns {ax5modal}\n             * @example\n             * ```\n             * my_modal.open();\n             * ```\n             */\n            this.open = function (opts, callback) {\n                if (!this.activeModal) {\n                    opts = self.modalConfig = jQuery.extend(true, {}, cfg, opts);\n                    open.call(this, opts, callback);\n                }\n                return this;\n            };\n\n            /**\n             * close the modal\n             * @method ax5modal.close\n             * @returns {ax5modal}\n             * @example\n             * ```\n             * my_modal.close();\n             * ```\n             */\n            this.close = function (opts) {\n                if (this.activeModal) {\n                    opts = self.modalConfig;\n                    this.activeModal.addClass(\"destroy\");\n                    jQuery(window).unbind(\"keydown.ax-modal\");\n                    jQuery(window).unbind(\"resize.ax-modal\");\n\n                    setTimeout((function () {\n                        if (this.activeModal) {\n\n                            // 프레임 제거\n                            if (opts.iframe) {\n                                var $iframe = this.$[\"iframe\"]; // iframe jQuery Object\n                                if ($iframe) {\n                                    var iframeObject = $iframe.get(0),\n                                        idoc = (iframeObject.contentDocument) ? iframeObject.contentDocument : iframeObject.contentWindow.document;\n\n                                    try {\n                                        $(idoc.body).children().each(function () {\n                                            $(this).remove();\n                                        });\n                                    } catch (e) {\n\n                                    }\n                                    idoc.innerHTML = \"\";\n                                    $iframe\n                                        .attr('src', 'about:blank')\n                                        .remove();\n\n                                    // force garbarge collection for IE only\n                                    window.CollectGarbage && window.CollectGarbage();\n                                }\n                            }\n\n                            this.activeModal.remove();\n                            this.activeModal = null;\n                        }\n                        onStateChanged.call(this, opts, {\n                            self: this,\n                            state: \"close\"\n                        });\n\n                    }).bind(this), cfg.animateTime);\n                }\n\n                this.minimized = false; // hoksi\n\n                return this;\n            };\n\n            /**\n             * @method ax5modal.minimize\n             * @returns {ax5modal}\n             */\n            this.minimize = (function () {\n\n                return function (minimizePosition) {\n\n                    if (this.minimized !== true) {\n\n                        var opts = self.modalConfig;\n                        if (typeof minimizePosition === \"undefined\") minimizePosition = cfg.minimizePosition;\n\n                        this.minimized = true;\n                        this.$.body.hide();\n                        self.modalConfig.originalHeight = opts.height;\n                        self.modalConfig.height = 0;\n                        alignProcessor[minimizePosition].call(this);\n\n                        onStateChanged.call(this, opts, {\n                            self: this,\n                            state: \"minimize\"\n                        });\n                    }\n\n                    return this;\n                };\n            })();\n\n            /**\n             * @method ax5modal.maximize\n             * @returns {ax5modal}\n             */\n            this.maximize = function () {\n                var opts = self.modalConfig;\n                if (this.minimized) {\n                    this.minimized = false;\n                    this.$.body.show();\n                    self.modalConfig.height = self.modalConfig.originalHeight;\n                    self.modalConfig.originalHeight = undefined;\n\n                    this.align({left: \"center\", top: \"middle\"});\n                    onStateChanged.call(this, opts, {\n                        self: this,\n                        state: \"restore\"\n                    });\n                }\n                return this;\n            };\n\n            /**\n             * setCSS\n             * @method ax5modal.css\n             * @param {Object} css -\n             * @returns {ax5modal}\n             */\n            this.css = function (css) {\n                if (this.activeModal && !self.fullScreen) {\n                    this.activeModal.css(css);\n                    if (css.width) {\n                        self.modalConfig.width = this.activeModal.width();\n                    }\n                    if (css.height) {\n                        self.modalConfig.height = this.activeModal.height();\n                        if (this.$[\"iframe\"]) {\n                            this.$[\"iframe-wrap\"].css({height: self.modalConfig.height});\n                            this.$[\"iframe\"].css({height: self.modalConfig.height});\n                        }\n                    }\n                }\n                return this;\n            };\n\n            /**\n             * @method ax5modal.setModalConfig\n             * @param _config\n             * @returns {ax5.ui.ax5modal}\n             */\n            this.setModalConfig = function (_config) {\n                self.modalConfig = jQuery.extend({}, self.modalConfig, _config);\n                this.align();\n                return this;\n            };\n\n            /**\n             * @method ax5modal.align\n             * @param position\n             * @param e\n             * @returns {ax5modal}\n             */\n            this.align = (function () {\n\n                return function (position, e) {\n                    if (!this.activeModal) return this;\n\n                    var opts = self.modalConfig,\n                        box = {\n                            width: opts.width,\n                            height: opts.height\n                        };\n\n                    var fullScreen = opts.isFullScreen = (function (_fullScreen) {\n                        if (typeof _fullScreen === \"undefined\") {\n                            return false;\n                        } else if (U.isFunction(_fullScreen)) {\n                            return _fullScreen();\n                        }\n                    })(opts.fullScreen);\n\n                    if (fullScreen) {\n                        if (opts.header) this.$.header.show();\n                        box.width = jQuery(window).width();\n                        box.height = opts.height;\n                        box.left = 0;\n                        box.top = 0;\n                    }\n                    else {\n                        if (opts.header) this.$.header.show();\n                        if (position) {\n                            jQuery.extend(true, opts.position, position);\n                        }\n\n                        if (opts.header) {\n                            opts.headerHeight = this.$.header.outerHeight();\n                            box.height += opts.headerHeight;\n                        } else {\n                            opts.headerHeight = 0;\n                        }\n\n                        //- position 정렬\n                        if (opts.position.left == \"left\") {\n                            box.left = (opts.position.margin || 0);\n                        }\n                        else if (opts.position.left == \"right\") {\n                            // window.innerWidth;\n                            box.left = jQuery(window).width() - box.width - (opts.position.margin || 0);\n                        }\n                        else if (opts.position.left == \"center\") {\n                            box.left = jQuery(window).width() / 2 - box.width / 2;\n                        }\n                        else {\n                            box.left = opts.position.left || 0;\n                        }\n\n                        if (opts.position.top == \"top\") {\n                            box.top = (opts.position.margin || 0);\n                        }\n                        else if (opts.position.top == \"bottom\") {\n                            box.top = jQuery(window).height() - box.height - (opts.position.margin || 0);\n                        }\n                        else if (opts.position.top == \"middle\") {\n                            box.top = jQuery(window).height() / 2 - box.height / 2;\n                        }\n                        else {\n                            box.top = opts.position.top || 0;\n                        }\n                        if (box.left < 0) box.left = 0;\n                        if (box.top < 0) box.top = 0;\n                    }\n\n                    this.activeModal.css(box);\n\n                    if (opts.iframe) {\n                        this.$[\"iframe-wrap\"].css({height: box.height - opts.headerHeight});\n                        this.$[\"iframe\"].css({height: box.height - opts.headerHeight});\n                    }\n                    return this;\n                };\n            })();\n\n            // 클래스 생성자\n            this.main = (function () {\n\n                UI.modal_instance = UI.modal_instance || [];\n                UI.modal_instance.push(this);\n\n                if (arguments && U.isObject(arguments[0])) {\n                    this.setConfig(arguments[0]);\n                }\n\n            }).apply(this, arguments);\n        };\n        return ax5modal;\n    })());\n\n    MODAL = ax5.ui.modal;\n})();\n","// ax5.ui.modal.tmpl\n(function () {\n    var MODAL = ax5.ui.modal;\n    \n    var content = function () {\n        return ` \n        <div id=\"{{modalId}}\" data-modal-els=\"root\" class=\"ax5modal {{theme}} {{fullscreen}}\" style=\"{{styles}}\">\n            {{#header}}\n            <div class=\"ax-modal-header\" data-modal-els=\"header\">\n                {{{title}}}\n                {{#btns}}\n                    <div class=\"ax-modal-header-addon\">\n                    {{#@each}}\n                    <button tabindex=\"-1\" data-modal-header-btn=\"{{@key}}\" class=\"{{@value.theme}}\">{{{@value.label}}}</button>\n                    {{/@each}}\n                    </div>\n                {{/btns}}\n            </div>\n            {{/header}}\n            <div class=\"ax-modal-body\" data-modal-els=\"body\">\n            {{#iframe}}\n            \n                <div data-modal-els=\"iframe-wrap\" style=\"-webkit-overflow-scrolling: touch; overflow: auto;position: relative;\">\n                    <table data-modal-els=\"iframe-loading\" style=\"width:100%;height:100%;\"><tr><td style=\"text-align: center;vertical-align: middle\">{{{iframeLoadingMsg}}}</td></tr></table>\n                    <iframe name=\"{{modalId}}-frame\" src=\"\" width=\"100%\" height=\"100%\" frameborder=\"0\" data-modal-els=\"iframe\" style=\"position: absolute;left:0;top:0;\"></iframe>\n                </div>\n                <form name=\"{{modalId}}-form\" data-modal-els=\"iframe-form\">\n                <input type=\"hidden\" name=\"modalId\" value=\"{{modalId}}\" />\n                {{#param}}\n                {{#@each}}\n                <input type=\"hidden\" name=\"{{@key}}\" value=\"{{@value}}\" />\n                {{/@each}}\n                {{/param}}\n                </form>\n            {{/iframe}}\n            </div>\n            <div class=\"ax-modal-body-mask\"></div>\n        </div>\n        `;\n    };\n\n    MODAL.tmpl = {\n        \"content\" : content,\n\n        get: function (tmplName, data, columnKeys) {\n            return ax5.mustache.render(MODAL.tmpl[tmplName].call(this, columnKeys), data);\n        }\n    };\n})();"]}